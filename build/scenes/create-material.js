'use strict';const _0x5a14fc=_0x1832;(function(_0x53eb85,_0x2475a5){const _0xacd344=_0x1832,_0x2adfe3=_0x53eb85();while(!![]){try{const _0xe4925=parseInt(_0xacd344(0xdd))/0x1+parseInt(_0xacd344(0xc0))/0x2*(-parseInt(_0xacd344(0xe7))/0x3)+-parseInt(_0xacd344(0xe3))/0x4*(-parseInt(_0xacd344(0xb6))/0x5)+parseInt(_0xacd344(0xe6))/0x6*(-parseInt(_0xacd344(0xc4))/0x7)+parseInt(_0xacd344(0x97))/0x8+-parseInt(_0xacd344(0xa0))/0x9*(parseInt(_0xacd344(0xbb))/0xa)+-parseInt(_0xacd344(0xae))/0xb*(-parseInt(_0xacd344(0xd0))/0xc);if(_0xe4925===_0x2475a5)break;else _0x2adfe3['push'](_0x2adfe3['shift']());}catch(_0x247b5f){_0x2adfe3['push'](_0x2adfe3['shift']());}}}(_0x51da,0x3541a));var __awaiter=this&&this[_0x5a14fc(0xa8)]||function(_0x5d265c,_0x2c55ec,_0x25fb1d,_0x57b376){function _0x53359(_0x18ca11){return _0x18ca11 instanceof _0x25fb1d?_0x18ca11:new _0x25fb1d(function(_0x891a7f){_0x891a7f(_0x18ca11);});}return new(_0x25fb1d||(_0x25fb1d=Promise))(function(_0x515d56,_0x46993f){const _0x4156b0=_0x1832;function _0x25761c(_0x340e66){try{_0x598b0b(_0x57b376['next'](_0x340e66));}catch(_0x14d8c5){_0x46993f(_0x14d8c5);}}function _0x117fcf(_0x32a967){try{_0x598b0b(_0x57b376['throw'](_0x32a967));}catch(_0x3fb46b){_0x46993f(_0x3fb46b);}}function _0x598b0b(_0x5ee6c1){const _0x512a6=_0x1832;_0x5ee6c1[_0x512a6(0xda)]?_0x515d56(_0x5ee6c1[_0x512a6(0xc8)]):_0x53359(_0x5ee6c1[_0x512a6(0xc8)])[_0x512a6(0xd9)](_0x25761c,_0x117fcf);}_0x598b0b((_0x57b376=_0x57b376[_0x4156b0(0xdf)](_0x5d265c,_0x2c55ec||[]))['next']());});};Object[_0x5a14fc(0xbe)](exports,'__esModule',{'value':!![]}),exports[_0x5a14fc(0xd3)]=void 0x0;function _0x1832(_0xde77dc,_0x222702){const _0x51daf9=_0x51da();return _0x1832=function(_0x1832ca,_0x25f2fc){_0x1832ca=_0x1832ca-0x97;let _0x290f84=_0x51daf9[_0x1832ca];return _0x290f84;},_0x1832(_0xde77dc,_0x222702);}const telegraf_1=require(_0x5a14fc(0xbd)),__1=require('..'),lib_1=require(_0x5a14fc(0x9e)),list_1=require(_0x5a14fc(0xb7)),nextStep=(_0x25f9ca,_0x557953)=>{const _0xed2bf6=_0x5a14fc;var _0x4c4b54,_0x4ce13e;return _0x25f9ca[_0xed2bf6(0xe5)]&&(_0x25f9ca[_0xed2bf6(0xe5)][_0xed2bf6(0xa5)]=''),((_0x4ce13e=(_0x4c4b54=_0x25f9ca===null||_0x25f9ca===void 0x0?void 0x0:_0x25f9ca['update'])===null||_0x4c4b54===void 0x0?void 0x0:_0x4c4b54[_0xed2bf6(0xbf)])===null||_0x4ce13e===void 0x0?void 0x0:_0x4ce13e[_0xed2bf6(0xa6)]['length'])&&(_0x25f9ca['update'][_0xed2bf6(0xbf)]['data']=''),!_0x557953?_0x25f9ca[_0xed2bf6(0xaa)]['next']():_0x25f9ca[_0xed2bf6(0xaa)]['cursor']=_0x557953,_0x25f9ca[_0xed2bf6(0xaa)][_0xed2bf6(0xb5)][_0x25f9ca['wizard'][_0xed2bf6(0xad)]](_0x25f9ca);},getValue=_0xac6e83=>{const _0x577e79=_0x5a14fc;var _0x305ce9,_0x2122a8,_0x15122d,_0x40627e,_0x594186,_0x15aabf;if((_0x2122a8=(_0x305ce9=_0xac6e83===null||_0xac6e83===void 0x0?void 0x0:_0xac6e83[_0x577e79(0xe2)])===null||_0x305ce9===void 0x0?void 0x0:_0x305ce9['callback_query'])===null||_0x2122a8===void 0x0?void 0x0:_0x2122a8['data'][_0x577e79(0xb1)])return(_0x40627e=(_0x15122d=_0xac6e83===null||_0xac6e83===void 0x0?void 0x0:_0xac6e83[_0x577e79(0xe2)])===null||_0x15122d===void 0x0?void 0x0:_0x15122d[_0x577e79(0xbf)])===null||_0x40627e===void 0x0?void 0x0:_0x40627e[_0x577e79(0xa6)];if((_0x594186=_0xac6e83[_0x577e79(0xe5)])===null||_0x594186===void 0x0?void 0x0:_0x594186[_0x577e79(0xa5)])return(_0x15aabf=_0xac6e83[_0x577e79(0xe5)])===null||_0x15aabf===void 0x0?void 0x0:_0x15aabf[_0x577e79(0xa5)];return'';},createButtonsHero=(_0x800a8d,_0x3ee1e3)=>{return _0x800a8d['map'](_0x2443fa=>{const _0x1853d6=_0x1832,_0x2d5330=_0x3ee1e3[_0x1853d6(0xc3)](_0x2443fa['id'][_0x1853d6(0xdc)]())?'âœ…':'',_0x267cfb=_0x2d5330+'\x20'+__1[_0x1853d6(0xd8)][_0x1853d6(0xb4)]['getColor'](_0x2443fa)+'\x20'+_0x2443fa['raritySimbol']+'\x20['+_0x2443fa['id']+']';return telegraf_1[_0x1853d6(0x9b)]['button']['callback'](_0x267cfb,_0x2443fa['id'][_0x1853d6(0xdc)]());});},getTotalMaterial=(_0x3d0e55,_0x16c957)=>{const _0x2b295e=_0x5a14fc;return _0x3d0e55[_0x2b295e(0xa7)]((_0x396b11,_0x1cf03b)=>{const _0x473036=_0x2b295e,_0x153a9c=_0x16c957[_0x473036(0xa3)](_0x3e12a5=>_0x3e12a5['id'][_0x473036(0xdc)]()==_0x1cf03b);if(_0x153a9c)return _0x396b11+_0x153a9c[_0x473036(0x9f)];},0x0);};function _0x51da(){const _0x130d2e=['data','reduce','__awaiter','leave','wizard','inactiveHeroes','Legend','cursor','11RhWOoJ','squad','rede','length','shouldRun','submit','telegram','steps','10HnXLcI','./list','inline_keyboard','message_id','isConnected','38510fhAvoV','reply_markup','telegraf','defineProperty','callback_query','517148UeAXWD','heroesSelected','getIdentify','includes','3360pvzAIw','state','createMaterial','heroes','value','SCENE_CREATE_MATERIAL','push','Account:\x20','Select\x20the\x20heroes','ERROR:\x20\x0a','\x0a\x0aFunctionality\x20only\x20allowed\x20for\x20POLYGON','user','8128284ByLFzN','cancel','rarity','sceneCreateMaterial','filter','Scenes','POLYGON','scene','bot','then','done','WizardScene','toString','152868TyqLqf','inlineKeyboard','apply','sortByRarityAsc','loginParams','update','155164HgbCZG','\x0a\x0aAccount\x20not\x20working','message','5412RWkagK','3vmAUps','button','1185624QxCOPM','material','slice','Qty\x20material:','Markup','callback','Hero\x20not\x20found:\x20','../lib','receivedMaterial','342rOCbHL','client','replyWithHTML','find','editMessageReplyMarkup','text'];_0x51da=function(){return _0x130d2e;};return _0x51da();}exports[_0x5a14fc(0xd3)]=new telegraf_1[(_0x5a14fc(0xd5))][(_0x5a14fc(0xdb))](list_1[_0x5a14fc(0xc9)],_0x50a5d6=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x7ec48d=_0x5a14fc;if(!__1['bot'][_0x7ec48d(0xa1)][_0x7ec48d(0xba)])return yield _0x50a5d6[_0x7ec48d(0xa2)]('Account:\x20'+__1[_0x7ec48d(0xd8)]['getIdentify']()+'\x0a\x0aAccount\x20not\x20connected,\x20please\x20wait'),_0x50a5d6['scene'][_0x7ec48d(0xa9)]();if(__1[_0x7ec48d(0xd8)]['isCreatingMaterial'])return yield _0x50a5d6[_0x7ec48d(0xa2)]('Account:\x20'+__1[_0x7ec48d(0xd8)][_0x7ec48d(0xc2)]()+'\x0a\x0aAt\x20the\x20moment\x20there\x20is\x20already\x20a\x20transaction\x20to\x20create\x20material'),_0x50a5d6['scene']['leave']();if(__1[_0x7ec48d(0xd8)][_0x7ec48d(0xe1)]['type']==_0x7ec48d(0xcf))return yield _0x50a5d6[_0x7ec48d(0xa2)](_0x7ec48d(0xcb)+__1[_0x7ec48d(0xd8)][_0x7ec48d(0xc2)]()+'\x0a\x0aFunctionality\x20only\x20allowed\x20when\x20logging\x20in\x20with\x20the\x20wallet'),_0x50a5d6[_0x7ec48d(0xd7)][_0x7ec48d(0xa9)]();if(__1[_0x7ec48d(0xd8)][_0x7ec48d(0xe1)][_0x7ec48d(0xb0)]!=_0x7ec48d(0xd6))return yield _0x50a5d6[_0x7ec48d(0xa2)]('Account:\x20'+__1[_0x7ec48d(0xd8)][_0x7ec48d(0xc2)]()+_0x7ec48d(0xce)),_0x50a5d6[_0x7ec48d(0xd7)][_0x7ec48d(0xa9)]();nextStep(_0x50a5d6);}),_0x51fcba=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x38e3f2=_0x5a14fc;var _0x4d024b,_0x7445cb;try{if(!__1['bot'][_0x38e3f2(0xb2)])return yield _0x51fcba[_0x38e3f2(0xa2)](_0x38e3f2(0xcb)+__1['bot'][_0x38e3f2(0xc2)]()+_0x38e3f2(0xe4)),_0x51fcba[_0x38e3f2(0xd7)][_0x38e3f2(0xa9)]();const _0x142de9=getValue(_0x51fcba);if(_0x142de9){const _0x250ff8=_0x142de9;if(_0x250ff8=='submit')return nextStep(_0x51fcba);if(_0x250ff8=='cancel')return yield _0x51fcba['replyWithHTML']('Canceled'),_0x51fcba[_0x38e3f2(0xd7)][_0x38e3f2(0xa9)]();const _0x2a22de=__1[_0x38e3f2(0xd8)][_0x38e3f2(0xaf)][_0x38e3f2(0xab)]['find'](_0x411029=>_0x411029['id']==_0x250ff8);let _0x1c305b=_0x51fcba[_0x38e3f2(0xaa)]['state'][_0x38e3f2(0xc1)];if(!_0x2a22de||!_0x1c305b)return _0x51fcba[_0x38e3f2(0xa2)](_0x38e3f2(0x9d)+_0x2a22de),yield _0x51fcba[_0x38e3f2(0xa2)]('Canceled'),_0x51fcba[_0x38e3f2(0xd7)][_0x38e3f2(0xa9)]();_0x1c305b[_0x38e3f2(0xc3)](_0x250ff8)?_0x1c305b=_0x1c305b[_0x38e3f2(0xd4)](_0x236039=>_0x236039!=_0x250ff8):_0x1c305b[_0x38e3f2(0xca)](_0x250ff8);_0x51fcba['wizard']['state'][_0x38e3f2(0xc1)]=_0x1c305b;const _0x309119=_0x51fcba[_0x38e3f2(0xaa)][_0x38e3f2(0xc5)]['button'],_0x4c8202=_0x51fcba[_0x38e3f2(0xaa)]['state'][_0x38e3f2(0x98)],_0x5d077e=_0x51fcba['wizard'][_0x38e3f2(0xc5)][_0x38e3f2(0xc7)],_0x2baf4e=getTotalMaterial(_0x1c305b,_0x5d077e),_0x52cb7f='Qty\x20material:\x20'+_0x2baf4e,_0xdfd825=telegraf_1[_0x38e3f2(0x9b)][_0x38e3f2(0xde)]([...createButtonsHero(_0x5d077e,_0x1c305b),telegraf_1[_0x38e3f2(0x9b)][_0x38e3f2(0xe8)][_0x38e3f2(0x9c)](_0x38e3f2(0xd1),_0x38e3f2(0xd1)),telegraf_1[_0x38e3f2(0x9b)][_0x38e3f2(0xe8)][_0x38e3f2(0x9c)]('submit',_0x38e3f2(0xb3))],{'columns':0x2});(_0x4d024b=__1[_0x38e3f2(0xd8)][_0x38e3f2(0xb4)][_0x38e3f2(0xbd)])===null||_0x4d024b===void 0x0?void 0x0:_0x4d024b['telegram']['editMessageText'](_0x4c8202['chat']['id'],_0x4c8202[_0x38e3f2(0xb9)],_0x52cb7f,_0x52cb7f),yield(_0x7445cb=__1['bot'][_0x38e3f2(0xb4)][_0x38e3f2(0xbd)])===null||_0x7445cb===void 0x0?void 0x0:_0x7445cb[_0x38e3f2(0xb4)][_0x38e3f2(0xa4)](_0x309119['chat']['id'],_0x309119[_0x38e3f2(0xb9)],_0x52cb7f,{'inline_keyboard':_0xdfd825[_0x38e3f2(0xbc)][_0x38e3f2(0xb8)]});}if(!_0x51fcba[_0x38e3f2(0xaa)][_0x38e3f2(0xc5)][_0x38e3f2(0xe8)]){const _0x283a94=(0x0,lib_1[_0x38e3f2(0xe0)])(__1[_0x38e3f2(0xd8)][_0x38e3f2(0xaf)][_0x38e3f2(0xab)]['filter'](_0x3d97bf=>_0x3d97bf[_0x38e3f2(0xd2)]!=_0x38e3f2(0xac)&&_0x3d97bf[_0x38e3f2(0xd2)]!='SuperLegend')[_0x38e3f2(0x99)](0x0,0x63));_0x51fcba['wizard'][_0x38e3f2(0xc5)]['heroes']=_0x283a94,_0x51fcba[_0x38e3f2(0xaa)][_0x38e3f2(0xc5)][_0x38e3f2(0xc1)]=[],_0x51fcba[_0x38e3f2(0xaa)][_0x38e3f2(0xc5)][_0x38e3f2(0xe8)]=yield _0x51fcba[_0x38e3f2(0xa2)](_0x38e3f2(0xcc),telegraf_1[_0x38e3f2(0x9b)][_0x38e3f2(0xde)]([...createButtonsHero(_0x283a94,[]),telegraf_1['Markup'][_0x38e3f2(0xe8)][_0x38e3f2(0x9c)]('cancel',_0x38e3f2(0xd1)),telegraf_1[_0x38e3f2(0x9b)][_0x38e3f2(0xe8)][_0x38e3f2(0x9c)](_0x38e3f2(0xb3),_0x38e3f2(0xb3))],{'columns':0x2})),_0x51fcba[_0x38e3f2(0xaa)][_0x38e3f2(0xc5)][_0x38e3f2(0x98)]=yield _0x51fcba[_0x38e3f2(0xa2)](_0x38e3f2(0x9a));}}catch(_0xebc673){_0x51fcba[_0x38e3f2(0xd7)][_0x38e3f2(0xa9)](),_0x51fcba['replyWithHTML'](_0x38e3f2(0xcd)+_0xebc673[_0x38e3f2(0xe5)]);}}),_0x3dc489=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x32c950=_0x5a14fc,_0xefd02=_0x3dc489['wizard'][_0x32c950(0xc5)]['heroesSelected'];if(_0xefd02[_0x32c950(0xb1)]==0x0)return yield _0x3dc489['replyWithHTML']('No\x20hero\x20selected'),_0x3dc489[_0x32c950(0xd7)][_0x32c950(0xa9)]();return yield __1[_0x32c950(0xd8)][_0x32c950(0xc6)](_0xefd02),_0x3dc489[_0x32c950(0xd7)]['leave']();}));