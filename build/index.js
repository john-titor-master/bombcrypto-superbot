'use strict';const _0x2d529b=_0x5d9d;function _0x42a0(){const _0x23b698=['TRY_SERVERS','parseLogin','ALERT_MATERIAL','6EzsFdE','168eSXMNU','./lib','IGNORE_REWARD_CURRENCY','ADVENTURE_HEROES','then','getConfig','3228ULCfsd','ALERT_SHIELD','setConfig','next','apply','SAVE_REWARDS_CSV','close','getDb','exit','521808krgwlX','bot','parseBoolean','done','init','SIGTERM','__awaiter','sleepAllHeroes','telegram','4802460YJrqPd','IDENTIFY','BSC','Database','askAndParseEnv','NUM_HERO_WORK','VERSION','MODE_ADVENTURE','throw','REWARDS_ALL_PERMISSION','requireAndParseEnv','9136620RfoLGg','identity','IGNORE_SHIELD_HERO_HOUSE','value','start','7885822vOunbA','./entity/repository/config','getIdentify','./api/database','SIGINT','546GNtYub','IGNORE_NUM_HERO_WORK','./constants','REPORT_REWARDS','12184ajOcgk','toString','parseArray','params','sync','network','once','lastReport','MAX_GAS_REPAIR_SHIELD','rede','parseNumber','IGNORE_COMMANDS','5362205BjlkNP'];_0x42a0=function(){return _0x23b698;};return _0x42a0();}(function(_0x5ad8bb,_0x2dd6b1){const _0x578955=_0x5d9d,_0x5bc403=_0x5ad8bb();while(!![]){try{const _0x2e95b6=-parseInt(_0x578955(0x15a))/0x1*(parseInt(_0x578955(0x16b))/0x2)+-parseInt(_0x578955(0x156))/0x3*(-parseInt(_0x578955(0x171))/0x4)+parseInt(_0x578955(0x166))/0x5*(-parseInt(_0x578955(0x16a))/0x6)+parseInt(_0x578955(0x151))/0x7+parseInt(_0x578955(0x17a))/0x8+parseInt(_0x578955(0x18e))/0x9+parseInt(_0x578955(0x183))/0xa;if(_0x2e95b6===_0x2dd6b1)break;else _0x5bc403['push'](_0x5bc403['shift']());}catch(_0x3f8e1f){_0x5bc403['push'](_0x5bc403['shift']());}}}(_0x42a0,0xb437f));function _0x5d9d(_0x4f0dad,_0x1be418){const _0x42a00d=_0x42a0();return _0x5d9d=function(_0x5d9d8e,_0x3adc13){_0x5d9d8e=_0x5d9d8e-0x14d;let _0x7a3ac3=_0x42a00d[_0x5d9d8e];return _0x7a3ac3;},_0x5d9d(_0x4f0dad,_0x1be418);}var __awaiter=this&&this[_0x2d529b(0x180)]||function(_0xcdc8e3,_0x4faabe,_0x203b29,_0x4cfbaf){function _0x1c159d(_0x3af50e){return _0x3af50e instanceof _0x203b29?_0x3af50e:new _0x203b29(function(_0x169359){_0x169359(_0x3af50e);});}return new(_0x203b29||(_0x203b29=Promise))(function(_0x564c6d,_0x32cb01){const _0x27b800=_0x5d9d;function _0x11960b(_0x26ae5f){const _0x26f95f=_0x5d9d;try{_0x1e1bb8(_0x4cfbaf[_0x26f95f(0x174)](_0x26ae5f));}catch(_0x4152d0){_0x32cb01(_0x4152d0);}}function _0x5967f3(_0x4d2fa3){const _0x1e2c89=_0x5d9d;try{_0x1e1bb8(_0x4cfbaf[_0x1e2c89(0x18b)](_0x4d2fa3));}catch(_0x2f1120){_0x32cb01(_0x2f1120);}}function _0x1e1bb8(_0x1670d9){const _0x5766c9=_0x5d9d;_0x1670d9[_0x5766c9(0x17d)]?_0x564c6d(_0x1670d9[_0x5766c9(0x14f)]):_0x1c159d(_0x1670d9[_0x5766c9(0x14f)])[_0x5766c9(0x16f)](_0x11960b,_0x5967f3);}_0x1e1bb8((_0x4cfbaf=_0x4cfbaf[_0x27b800(0x175)](_0xcdc8e3,_0x4faabe||[]))[_0x27b800(0x174)]());});};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x2d529b(0x17b)]=void 0x0;const database_1=require(_0x2d529b(0x154)),bot_1=require('./bot'),constants_1=require(_0x2d529b(0x158)),config_1=require(_0x2d529b(0x152)),lib_1=require(_0x2d529b(0x16c));function main(){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3d63b5=_0x5d9d,_0x554034=(0x0,lib_1[_0x3d63b5(0x18d)])('LOGIN',lib_1[_0x3d63b5(0x168)]),_0xe74ec=(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x159),parseInt,0x0);database_1['Database'][_0x3d63b5(0x178)](),yield database_1['Database'][_0x3d63b5(0x15e)](),exports[_0x3d63b5(0x17b)]=new bot_1['TreasureMapBot'](_0x554034,{'telegramKey':(0x0,lib_1[_0x3d63b5(0x187)])('TELEGRAM_KEY',lib_1['identity'],''),'minHeroEnergyPercentage':parseInt((0x0,lib_1[_0x3d63b5(0x187)])('MIN_HERO_ENERGY_PERCENTAGE',lib_1['identity'],'50')),'modeAmazon':!![],'modeAdventure':(0x0,lib_1['askAndParseEnv'])(_0x3d63b5(0x18a),lib_1[_0x3d63b5(0x17c)],![]),'adventureHeroes':(0x0,lib_1['askAndParseEnv'])(_0x3d63b5(0x16e),lib_1[_0x3d63b5(0x14d)],''),'houseHeroes':(0x0,lib_1['askAndParseEnv'])('HOUSE_HEROES',lib_1[_0x3d63b5(0x14d)],''),'saveRewardsCsv':(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x176),lib_1[_0x3d63b5(0x17c)],![]),'ignoreNumHeroWork':(0x0,lib_1['askAndParseEnv'])(_0x3d63b5(0x157),lib_1[_0x3d63b5(0x17c)],![]),'tryServers':(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x167),lib_1[_0x3d63b5(0x17c)],![]),'resetShieldAuto':(0x0,lib_1['askAndParseEnv'])('RESET_SHIELD_AUTO',lib_1[_0x3d63b5(0x17c)],![]),'rede':(0x0,lib_1['askAndParseEnv'])('NETWORK',lib_1['identity'],_0x3d63b5(0x185)),'version':parseInt((0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x189),lib_1['identity'],constants_1['VERSION_CODE'][_0x3d63b5(0x15b)]())),'alertShield':parseInt((0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x172),lib_1['identity'],'0')),'numHeroWork':parseInt((0x0,lib_1['askAndParseEnv'])(_0x3d63b5(0x188),lib_1[_0x3d63b5(0x14d)],'15')),'telegramChatId':(0x0,lib_1[_0x3d63b5(0x187)])('TELEGRAM_CHAT_ID',lib_1[_0x3d63b5(0x14d)],''),'identify':(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x184),lib_1[_0x3d63b5(0x14d)],''),'rewardsAllPermission':(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x18c),lib_1[_0x3d63b5(0x15c)],[]),'telegramChatIdCheck':(0x0,lib_1[_0x3d63b5(0x187)])('TELEGRAM_CHAT_ID_CHECK',lib_1[_0x3d63b5(0x17c)],![]),'ignoreShieldHeroHouse':(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x14e),lib_1[_0x3d63b5(0x17c)],![]),'reportRewards':_0xe74ec,'server':(0x0,lib_1[_0x3d63b5(0x187)])('SERVER',lib_1[_0x3d63b5(0x14d)],'sea'),'maxGasRepairShield':(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x162),lib_1[_0x3d63b5(0x164)],0x0),'alertMaterial':(0x0,lib_1['askAndParseEnv'])(_0x3d63b5(0x169),lib_1[_0x3d63b5(0x164)],0x0),'workHeroWithShield':(0x0,lib_1[_0x3d63b5(0x187)])('WORK_HERO_WITH_SHIELD',lib_1[_0x3d63b5(0x164)],0x0),'ignoreRewardCurrency':(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x16d),lib_1[_0x3d63b5(0x15c)],[]),'ignoreCommands':(0x0,lib_1[_0x3d63b5(0x187)])(_0x3d63b5(0x165),lib_1[_0x3d63b5(0x15c)],[])}),yield(0x0,config_1[_0x3d63b5(0x173)])(exports[_0x3d63b5(0x17b)]['getIdentify'](),'username',exports['bot'][_0x3d63b5(0x153)]()),yield(0x0,config_1[_0x3d63b5(0x173)])(exports[_0x3d63b5(0x17b)]['getIdentify'](),_0x3d63b5(0x15f),exports[_0x3d63b5(0x17b)][_0x3d63b5(0x15d)][_0x3d63b5(0x163)]),yield exports[_0x3d63b5(0x17b)][_0x3d63b5(0x182)][_0x3d63b5(0x17e)]();let _0x46bb52;_0xe74ec&&(_0x46bb52=setInterval(()=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x78af05=_0x3d63b5,_0x455729=yield(0x0,config_1[_0x78af05(0x170)])(exports[_0x78af05(0x17b)][_0x78af05(0x153)](),_0x78af05(0x150)),_0x447eab=(yield(0x0,config_1[_0x78af05(0x170)])(exports[_0x78af05(0x17b)][_0x78af05(0x153)](),_0x78af05(0x161)))||0x0,_0x56ab0b=Date['now'](),_0x2a3eab=_0x56ab0b>_0x447eab+_0xe74ec*0x3c*0x3e8;_0x455729!==0x0&&_0x2a3eab&&exports[_0x78af05(0x17b)]['telegram']['sendRewardReport'](_0x56ab0b-0x3e8);}),0x3e8*0x3c));const _0xbe5de9=()=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x43860e=_0x3d63b5;yield exports[_0x43860e(0x17b)][_0x43860e(0x181)](),yield exports[_0x43860e(0x17b)]['stop']();if(_0x46bb52)clearInterval(_0x46bb52);const _0x250a7d=database_1[_0x43860e(0x186)][_0x43860e(0x178)]();yield _0x250a7d[_0x43860e(0x177)](),process[_0x43860e(0x179)]();});process[_0x3d63b5(0x160)](_0x3d63b5(0x155),_0xbe5de9),process[_0x3d63b5(0x160)](_0x3d63b5(0x17f),_0xbe5de9);const _0x5c58f3=yield(0x0,config_1[_0x3d63b5(0x170)])(exports[_0x3d63b5(0x17b)]['getIdentify'](),_0x3d63b5(0x150));_0x5c58f3!==0x0&&(yield exports[_0x3d63b5(0x17b)]['loop']());});}main();