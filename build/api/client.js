'use strict';const _0x40cb2e=_0x1a62;(function(_0x2d7d4c,_0x1ccdd6){const _0x4ede4f=_0x1a62,_0x2ea451=_0x2d7d4c();while(!![]){try{const _0x3422d4=-parseInt(_0x4ede4f(0x15e))/0x1*(parseInt(_0x4ede4f(0x109))/0x2)+-parseInt(_0x4ede4f(0x1d2))/0x3*(-parseInt(_0x4ede4f(0x21b))/0x4)+-parseInt(_0x4ede4f(0x22b))/0x5*(-parseInt(_0x4ede4f(0x1cb))/0x6)+parseInt(_0x4ede4f(0x111))/0x7*(-parseInt(_0x4ede4f(0x20a))/0x8)+parseInt(_0x4ede4f(0x1aa))/0x9+-parseInt(_0x4ede4f(0x112))/0xa*(-parseInt(_0x4ede4f(0x209))/0xb)+-parseInt(_0x4ede4f(0x1b1))/0xc;if(_0x3422d4===_0x1ccdd6)break;else _0x2ea451['push'](_0x2ea451['shift']());}catch(_0x6e1fd4){_0x2ea451['push'](_0x2ea451['shift']());}}}(_0x312f,0xb622e));function _0x312f(){const _0x5121dd=['.bombcrypto.io','getStoryMap','datas_pve','handleGetStoryDetails','handleGetStoryMap','Send\x20ping\x20to\x20server','info','getBool','New\x20token:\x20','makeGetStoryLevelDetail','1756760wXnafd','makeLoginSignature','ENEMY_TAKE_DAMAGE','stage','resetShieldHeroS','utils','START_PVE','wallet','createRock','syncHouse','token','poolBomb','datas_pve_v2','getBlockMap','ABI_APPROVE_CLAIM','makeCoinDetailRequest','makeStartExplodeExplodeRequest','hero_type','confirmClaimRewardSuccess','privateKey','GET_ACTIVE_BOMBER','SERVERS','handlers','makeException','approveClaim','length','startPVE','parse','uint256','__importDefault','success','Wallet:\x20','rawTransaction','syncBomberman','MessageError','rare','bombRange','handleConnection','received','balanceOf','handleStartStoryExplode','Network:\x20','value','__esModule','damage','makeUniquePromise','Canceled','send','handleSyncHouse','invested','wipe','loginParams','\x22Windows\x22','handleConnectionLost','restore_hp','makeApproveClaim','map','gwei','nextId','tryServers','\x27\x20ping:\x20','accounts','LoginFailed','https://api.bombcrypto.io/gateway/auth/tr/verify-token','sea','web3ApproveClaim','data_type','default','12vOSvAe','makeActiveBomber','bombDamage','getSFSArray','blocks','enableEventDispatching','max_level','LOGOUT','3451CeuYFh','846570ztveBW','resolveUniquePromise','methods','handleSyncBomberman','messageId','disconnect','isConnected','__awaiter','remain_time','ACTIVE_HOUSE','retryWeb3','encodeABI','energy','makeStopPVERequest','makeGoSleepRequest','setConfig','getDouble','ABI_RESET_SHIELD_HERO','makeGetRewardRequest','getUtfString','bombSkin','col','makeSerializedPromise','sendMessageChat','Best\x20server\x20found\x20\x27','SFSEvent','handleStartPVE','bot','warning','LoggerEvent','handleGetBlockMap','Unity\x20WebGL','EXTENSION_RESPONSE','next','handleLogout','goHome','User\x20Id:\x20','callHandler','WARNING','ZONE','isLoggedIn','size','ability','assign','handleStartExplode','skin','CONNECTION_LOST','toBN','Error\x20code\x20','https://api.bombcrypto.io/ping/','cors','Wallet\x20not\x20found','moreParams','type','forEach','GET_STORY_LEVEL_DETAIL','same-site','connectionLost','makeLoginRequest','ConnectionFailed','status','active','login','fromWei','getHeroUpgradePower','got','ADDRESS_BOMB','toHex','enemies','CONNECTION','done','ENTER_DOOR','signTransaction','getIdentify','house_gen_id','lastServer','140027erntzm','code','Client','sfs','makeGetStoryMap','rewards','then','ensureLoggedIn','json','mySelf','cmd','address','messageError','handleActiveBomber','handleLoginError','handleGetActiveHeroes','createServer','addEventListener','enterDoor','follow','../parsers/reward','signature','warn','resolveSerializedPromise','ether','shields','handleCoinDetail','enableConsoleOutput','rede','total','web3','getUtfStringArray','toChecksumAddress','makeActiveHouseRequest','COIN_DETAIL','containsKey','claimTokens','ERROR','STOP_PVE','loginError','view','bombNum','connection','throughBrick','genId','controller','START_STORY_EXPLODE','rejectSerializedPromise','estimateGas','checkTransaction','handleStartExplodeV2','handleApproveClaim','GO_SLEEP','bombers','handleGoWork','params','WrongUsage','INFO','splice','application/json','Bearer\x20','getIntArray','https://app.bombcrypto.io','getActiveHeroes','eth','walletId','makeStartPVERequest','apiBaseHeaders','isDeleted','DEBUG','activeHouse','GO_HOME','speed','coinDetail','GO_WORK','toWei','5299128HQHnqf','https://api.bombcrypto.io/gateway/auth/dapp/verify-signature','startStoryExplode','reject','timeout','makeStartExplodeV2Request','first_win','14726868DllQLX','handleEnterDoor','call','data','Connection\x20failed','current','handleExtentionResponse','connect','fill','SYNC_HOUSE','function','sendTransactionWeb3','makeApproveConfirmClaimRewardSuccess','level_rewards','toString','getConfig','web3ResetShield','SYNC_BOMBERMAN','handleConfirmClaimRewardSuccess','ping','server-','logout','SmartFox','defineProperty','level','message','18pnvWnw','ACTIVE_BOMBER','error\x20transaction','https://api.bombcrypto.io/gateway/auth/tr/login','getLong','throw','username\x20or\x20password\x20invalid','15KPBkVP','startExplodeV2','abilities','goWork','getJwtToken','transaction\x20hash:\x20','maxHp','rejectUniquePromise','stamina','Log\x20in\x20first','playercolor','get','pushHandler','GET_REWARD','connectEvents','handleMessageError','handleGoSleep','getServerByPing','USER_LOGIN','logger','modeAmazon','CONTRACT_RESET_SHIELD','startExplode','handleGetReward','handleActiveHouse','user-agents','gen_id','stopPVE','handleGoHome','getReward','handleLogin','row','WEB3_RPC','getActiveBomber','sendSignedTransaction','activeBomber','LOGIN','getStoryDetails','Account\x20deleted','Update\x20list\x20heroes...','./requests','makeSyncHouseRequest','GET_BLOCK_MAP','getSFSObject','getFloat','debug','handleStopPVE','makeGoHomeRequest','getGasPolygon','web3Balance','tokenType','filter','bombId','account','getDurationInMilliseconds','33CzZYjO','3448FcjCJY','goSleep','handleGetHeroUpgradePower','empty','parseRewardType','apply','try','push','Contract','hero','makeGetHeroUpgradePowerRequest','telegram','setClientDetails','GET_HERO_UPGRADE_POWER','getInt','PORT','server','903276OuuOjR','CONFIRM_CLAIM_REWARD_SUCCESS','askAndParseEnv','GET_STORY_MAP','hero_id','enemyTakeDamage'];_0x312f=function(){return _0x5121dd;};return _0x312f();}var __awaiter=this&&this[_0x40cb2e(0x119)]||function(_0x2cee11,_0x5ab4a8,_0x491128,_0x22c6ec){function _0xf84c7b(_0x1c3d2e){return _0x1c3d2e instanceof _0x491128?_0x1c3d2e:new _0x491128(function(_0xcc7ba9){_0xcc7ba9(_0x1c3d2e);});}return new(_0x491128||(_0x491128=Promise))(function(_0x268dae,_0x42758d){const _0x4374ca=_0x1a62;function _0x2e5c59(_0x10c0cf){const _0x201571=_0x1a62;try{_0x1b9971(_0x22c6ec[_0x201571(0x133)](_0x10c0cf));}catch(_0x164228){_0x42758d(_0x164228);}}function _0x3e9b56(_0x240189){const _0x500e41=_0x1a62;try{_0x1b9971(_0x22c6ec[_0x500e41(0x1d0)](_0x240189));}catch(_0x396fd8){_0x42758d(_0x396fd8);}}function _0x1b9971(_0x3e522b){const _0x531503=_0x1a62;_0x3e522b[_0x531503(0x158)]?_0x268dae(_0x3e522b[_0x531503(0xef)]):_0xf84c7b(_0x3e522b[_0x531503(0xef)])[_0x531503(0x164)](_0x2e5c59,_0x3e9b56);}_0x1b9971((_0x22c6ec=_0x22c6ec[_0x4374ca(0x20f)](_0x2cee11,_0x5ab4a8||[]))[_0x4374ca(0x133)]());});},__importDefault=this&&this[_0x40cb2e(0x248)]||function(_0x55ff22){const _0x343d0c=_0x40cb2e;return _0x55ff22&&_0x55ff22[_0x343d0c(0xf0)]?_0x55ff22:{'default':_0x55ff22};};Object[_0x40cb2e(0x1c8)](exports,_0x40cb2e(0xf0),{'value':!![]}),exports[_0x40cb2e(0x160)]=void 0x0;const got_1=__importDefault(require(_0x40cb2e(0x153))),sfs2x_api_1=require('sfs2x-api'),user_agents_1=__importDefault(require(_0x40cb2e(0x1eb))),web3_1=__importDefault(require(_0x40cb2e(0x17c))),__1=require('..'),constants_1=require('../constants'),config_1=require('../entity/repository/config'),err_1=require('../err'),lib_1=require('../lib'),logger_1=require('../logger'),reward_1=require(_0x40cb2e(0x172)),promise_1=require('./promise'),requests_1=require(_0x40cb2e(0x1fa));function _0x1a62(_0x1b8e17,_0xa45e17){const _0x312f07=_0x312f();return _0x1a62=function(_0x1a62d7,_0xa5aed7){_0x1a62d7=_0x1a62d7-0xeb;let _0x2a0255=_0x312f07[_0x1a62d7];return _0x2a0255;},_0x1a62(_0x1b8e17,_0xa45e17);}class Client{constructor(_0x23aeac,_0x49430c=0x0,_0x283599=![],_0xfbc0cd,_0x5ea886){const _0x4c6e33=_0x40cb2e;this['modeAmazon']=![],this['moreParams']=_0xfbc0cd,this['modeAmazon']=_0x283599;const _0xb2fe30=new user_agents_1['default']();this[_0x4c6e33(0x1a1)]={'origin':'https://app.bombcrypto.io','referer':_0x4c6e33(0x19c),'sec-ch-ua':'\x20\x22\x20Not\x20A;Brand\x22;v=\x2299\x22,\x20\x22Chromium\x22;v=\x2298\x22,\x20\x22Google\x20Chrome\x22;v=\x2298\x22','sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x4c6e33(0xf9),'sec-fetch-dest':_0x4c6e33(0x20d),'sec-fetch-mode':_0x4c6e33(0x144),'sec-fetch-site':_0x4c6e33(0x14a),'content-type':_0x4c6e33(0x199),'user-agent':_0xb2fe30['toString']()},this[_0x4c6e33(0x17c)]=new web3_1[(_0x4c6e33(0x108))](constants_1[_0x4c6e33(0x1f2)]),this[_0x4c6e33(0x161)]={},this['db']=_0x5ea886,this['timeout']=_0x49430c,this[_0x4c6e33(0xf8)]=_0x23aeac;}get[_0x40cb2e(0x19f)](){const _0x4d27c8=_0x40cb2e;return this['loginParams'][_0x4d27c8(0x232)];}get['isConnected'](){const _0x119ec0=_0x40cb2e;return this[_0x119ec0(0x161)][_0x119ec0(0x118)];}get['isLoggedIn'](){const _0x43cbb1=_0x40cb2e;return _0x43cbb1(0x167)in this[_0x43cbb1(0x161)]&&this[_0x43cbb1(0x161)][_0x43cbb1(0x167)]!==null;}['on']({event:_0x3e40d4,handler:_0x2aea5a}){const _0x2baf1a=_0x40cb2e,_0x2a5c3f=this['handlers'][_0x3e40d4];return this[_0x2baf1a(0x1de)](_0x2a5c3f,_0x2aea5a);}[_0x40cb2e(0x1b8)](_0x2e521c=0x0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x50bf36=_0x1a62;if(this[_0x50bf36(0x118)])return;return yield(0x0,promise_1[_0x50bf36(0xf2)])(this[_0x50bf36(0x18b)][_0x50bf36(0x1b8)],()=>this[_0x50bf36(0x161)][_0x50bf36(0x1b8)](),_0x2e521c||this[_0x50bf36(0x1ae)]);});}[_0x40cb2e(0x117)](_0x3efb97=0x0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x316390=_0x1a62;if(!this[_0x316390(0x118)])return;const _0x4cd070=yield(0x0,promise_1[_0x316390(0xf2)])(this['controller']['disconnect'],()=>this[_0x316390(0x161)][_0x316390(0x117)](),_0x3efb97||this['timeout']);return _0x4cd070;});}['removeAllPromises'](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3340b0=_0x1a62;Object['values'](this[_0x3340b0(0x18b)])[_0x3340b0(0xfd)](_0x5a6f79=>{const _0x49fd61=_0x3340b0;var _0x2ca950;(_0x2ca950=_0x5a6f79[_0x49fd61(0x1b6)])===null||_0x2ca950===void 0x0?void 0x0:_0x2ca950[_0x49fd61(0x1ad)](new Error(_0x49fd61(0xf3)));});});}[_0x40cb2e(0x16e)](_0x2d47d3){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2c350e=_0x1a62;this['sfs']=new sfs2x_api_1[(_0x2c350e(0x1c7))]({'host':_0x2c350e(0x1c5)+_0x2d47d3+_0x2c350e(0x221),'port':constants_1[_0x2c350e(0x219)],'zone':constants_1[_0x2c350e(0x139)],'debug':(0x0,lib_1[_0x2c350e(0x21d)])(_0x2c350e(0x1a3),lib_1['parseBoolean'],![]),'useSSL':!![]}),this[_0x2c350e(0x161)][_0x2c350e(0x216)](_0x2c350e(0x131),''),this[_0x2c350e(0xf7)](),this[_0x2c350e(0x1e0)]();});}[_0x40cb2e(0x1d6)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x234e53=_0x1a62;try{const {type:_0x54ed5b}=this[_0x234e53(0xf8)];let _0x415ac2;if(_0x54ed5b=='wallet'){const {privateKey:_0x343fb2,wallet:_0x1dae48}=this[_0x234e53(0xf8)],_0x3b22c1=yield got_1[_0x234e53(0x108)][_0x234e53(0x1dd)]('https://api.bombcrypto.io/gateway/auth/dapp/token?address='+_0x1dae48,{'headers':this[_0x234e53(0x1a1)]})[_0x234e53(0x166)](),_0xd9cf02=(0x0,requests_1[_0x234e53(0x22c)])(_0x343fb2,_0x3b22c1[_0x234e53(0x1ca)]);_0x415ac2=yield got_1[_0x234e53(0x108)]['post'](_0x234e53(0x1ab),{'json':{'address':_0x1dae48,'signature':_0xd9cf02},'headers':this['apiBaseHeaders']})['json'](),this[_0x234e53(0xf8)][_0x234e53(0x173)]=_0xd9cf02;}else{const {password:_0x586cb5,username:_0x42f4d0}=this['loginParams'];_0x415ac2=yield got_1[_0x234e53(0x108)]['post'](_0x234e53(0x1ce),{'json':{'username':_0x42f4d0,'password':_0x586cb5},'headers':this[_0x234e53(0x1a1)]})['json']();}logger_1[_0x234e53(0x1e5)][_0x234e53(0x227)](_0x234e53(0x229)+_0x415ac2[_0x234e53(0x1ca)]['token']);const _0x5a10df=yield got_1[_0x234e53(0x108)][_0x234e53(0x1dd)](_0x234e53(0x104),{'headers':Object[_0x234e53(0x13d)](Object[_0x234e53(0x13d)]({},this[_0x234e53(0x1a1)]),{'authorization':_0x234e53(0x19a)+_0x415ac2[_0x234e53(0x1ca)][_0x234e53(0x235)]})})[_0x234e53(0x166)]();if(!_0x5a10df[_0x234e53(0x1ca)][_0x234e53(0x169)]){yield __1[_0x234e53(0x12d)]['telegram'][_0x234e53(0x129)](_0x234e53(0x145));throw(0x0,err_1[_0x234e53(0x242)])(_0x234e53(0x103),_0x234e53(0x145));}logger_1[_0x234e53(0x1e5)][_0x234e53(0x227)](_0x234e53(0x24a)+_0x5a10df[_0x234e53(0x1ca)][_0x234e53(0x169)]),logger_1['logger'][_0x234e53(0x227)](_0x234e53(0x136)+_0x5a10df['message']['id']);if(_0x5a10df[_0x234e53(0x1ca)][_0x234e53(0x1a2)]){yield __1[_0x234e53(0x12d)][_0x234e53(0x215)]['sendMessageChat'](_0x234e53(0x1f8));throw(0x0,err_1[_0x234e53(0x242)])(_0x234e53(0x103),'Account\x20deleted');}this[_0x234e53(0xf8)]['wallet']=_0x5a10df[_0x234e53(0x1ca)]['address'],this[_0x234e53(0xf8)][_0x234e53(0x235)]=_0x415ac2[_0x234e53(0x1ca)][_0x234e53(0x235)];}catch(_0x53f8d1){if(_0x53f8d1[_0x234e53(0x1ca)]=='Response\x20code\x20401\x20(Unauthorized)'){yield __1[_0x234e53(0x12d)][_0x234e53(0x215)][_0x234e53(0x129)](_0x234e53(0x1d1));throw(0x0,err_1[_0x234e53(0x242)])(_0x234e53(0x103),_0x234e53(0x1d1));}throw(0x0,err_1[_0x234e53(0x242)])(_0x234e53(0x103),_0x53f8d1[_0x234e53(0x1ca)]);}});}['connectServer'](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x26f249=_0x1a62,_0x308ba5=yield this['getServerByPing']();logger_1['logger']['info'](_0x26f249(0x12a)+_0x308ba5[_0x26f249(0x21a)]+_0x26f249(0x101)+_0x308ba5[_0x26f249(0x1c4)]+'ms'),yield this[_0x26f249(0x16e)](_0x308ba5[_0x26f249(0x21a)]);});}['login'](_0x4307de=0x0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2a13f7=_0x1a62;if(this[_0x2a13f7(0x13a)])return this['walletId'];return yield this[_0x2a13f7(0x1d6)](),yield this['connect'](),logger_1['logger']['info'](_0x2a13f7(0xee)+this['loginParams'][_0x2a13f7(0x17a)]),yield(0x0,promise_1[_0x2a13f7(0xf2)])(this[_0x2a13f7(0x18b)][_0x2a13f7(0x150)],()=>this['sfs'][_0x2a13f7(0xf4)]((0x0,requests_1[_0x2a13f7(0x14c)])(this[_0x2a13f7(0xf8)])),_0x4307de||this['timeout']);});}[_0x40cb2e(0x243)](_0x4eb8c1,_0x13aba2=0x0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4f9e0a=_0x1a62;return this[_0x4f9e0a(0x165)](),yield(0x0,promise_1[_0x4f9e0a(0xf2)])(this[_0x4f9e0a(0x18b)]['approveClaim'],()=>this[_0x4f9e0a(0x161)][_0x4f9e0a(0xf4)]((0x0,requests_1[_0x4f9e0a(0xfc)])(this['walletId'],this[_0x4f9e0a(0xff)](),_0x4eb8c1)),_0x13aba2||this[_0x4f9e0a(0x1ae)]);});}[_0x40cb2e(0x1f5)](_0x10457e,_0x1802d7,_0x4d174d=0x0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2b333a=_0x1a62;return this[_0x2b333a(0x165)](),yield(0x0,promise_1[_0x2b333a(0xf2)])(this[_0x2b333a(0x18b)][_0x2b333a(0x1f5)],()=>this[_0x2b333a(0x161)][_0x2b333a(0xf4)]((0x0,requests_1[_0x2b333a(0x10a)])(this[_0x2b333a(0x19f)],this[_0x2b333a(0xff)](),_0x10457e,_0x1802d7)),_0x4d174d||this['timeout']);});}[_0x40cb2e(0x23d)](_0xcad2ac,_0x47a0d6=0x0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4bb059=_0x1a62;return this[_0x4bb059(0x165)](),yield(0x0,promise_1['makeUniquePromise'])(this[_0x4bb059(0x18b)]['confirmClaimRewardSuccess'],()=>this['sfs'][_0x4bb059(0xf4)]((0x0,requests_1[_0x4bb059(0x1bd)])(this[_0x4bb059(0x19f)],this[_0x4bb059(0xff)](),_0xcad2ac)),_0x47a0d6||this[_0x4bb059(0x1ae)]);});}['getPing'](_0x3bb13c){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x47d7ed=_0x1a62,_0x1b9586=process['hrtime']();return yield got_1['default']['get'](_0x47d7ed(0x143)+_0x3bb13c,{'headers':this[_0x47d7ed(0x1a1)],'http2':!![]}),yield got_1['default']['get']('https://api.bombcrypto.io/ping/'+_0x3bb13c,{'headers':this[_0x47d7ed(0x1a1)],'http2':!![]}),{'server':_0x3bb13c,'ping':(0x0,lib_1[_0x47d7ed(0x208)])(_0x1b9586)};});}[_0x40cb2e(0x1e3)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4d72c5=_0x1a62;return{'server':_0x4d72c5(0x105),'ping':0x0};});}[_0x40cb2e(0x1c6)](_0x22f1ba=0x0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x5626bd=_0x1a62;if(!this[_0x5626bd(0x13a)])return;return yield(0x0,promise_1[_0x5626bd(0xf2)])(this[_0x5626bd(0x18b)]['logout'],()=>this[_0x5626bd(0x161)][_0x5626bd(0xf4)](new sfs2x_api_1['LogoutRequest']()),_0x22f1ba||this[_0x5626bd(0x1ae)]);});}[_0x40cb2e(0x152)](_0x1807c4=0x0){const _0x25ab2f=_0x40cb2e;return this[_0x25ab2f(0x165)](),(0x0,promise_1[_0x25ab2f(0xf2)])(this['controller'][_0x25ab2f(0x152)],()=>{const _0x32827d=_0x25ab2f,_0x5f3121=(0x0,requests_1[_0x32827d(0x214)])(this[_0x32827d(0x19f)],this[_0x32827d(0xff)]());this[_0x32827d(0x161)]['send'](_0x5f3121);},_0x1807c4||this[_0x25ab2f(0x1ae)]);}[_0x40cb2e(0x238)](_0x40be4f=0x0){const _0x5dc9de=_0x40cb2e;return this[_0x5dc9de(0x165)](),(0x0,promise_1[_0x5dc9de(0xf2)])(this[_0x5dc9de(0x18b)]['getBlockMap'],()=>{const _0x309c9a=_0x5dc9de,_0x3911a5=(0x0,requests_1['makeGetBlockMapRequest'])(this['walletId'],this[_0x309c9a(0xff)]());this['sfs'][_0x309c9a(0xf4)](_0x3911a5);},_0x40be4f||this[_0x5dc9de(0x1ae)]);}[_0x40cb2e(0x234)](_0x254aea=0x0){const _0x1e1cee=_0x40cb2e;return this[_0x1e1cee(0x165)](),(0x0,promise_1['makeUniquePromise'])(this[_0x1e1cee(0x18b)]['syncHouse'],()=>{const _0x21035a=_0x1e1cee,_0x4bd040=(0x0,requests_1[_0x21035a(0x1fb)])(this[_0x21035a(0x19f)],this[_0x21035a(0xff)]());this[_0x21035a(0x161)][_0x21035a(0xf4)](_0x4bd040);},_0x254aea||this[_0x1e1cee(0x1ae)]);}[_0x40cb2e(0x1a4)](_0x730bab,_0x206ee6=0x0){const _0x33db05=_0x40cb2e;return this['ensureLoggedIn'](),(0x0,promise_1['makeUniquePromise'])(this['controller'][_0x33db05(0x1a4)],()=>{const _0x1ae1c3=_0x33db05,_0x48d799=(0x0,requests_1[_0x1ae1c3(0x17f)])(_0x730bab,this['walletId'],this['nextId']());this[_0x1ae1c3(0x161)][_0x1ae1c3(0xf4)](_0x48d799);},_0x206ee6||this[_0x33db05(0x1ae)]);}[_0x40cb2e(0x19d)](_0x40045c=0x0){const _0x12824a=_0x40cb2e;return logger_1[_0x12824a(0x1e5)]['info'](_0x12824a(0x1f9)),this[_0x12824a(0x165)](),(0x0,promise_1['makeUniquePromise'])(this[_0x12824a(0x18b)]['getActiveHeroes'],()=>{const _0x8b0922=_0x12824a,_0x3c922f=(0x0,requests_1['makeGetActiveBomberRequest'])(this[_0x8b0922(0x19f)],this[_0x8b0922(0xff)]());this[_0x8b0922(0x161)]['send'](_0x3c922f);},_0x40045c||this[_0x12824a(0x1ae)]);}[_0x40cb2e(0x24c)](_0x431dd9=0x0){const _0x27e34b=_0x40cb2e;return logger_1[_0x27e34b(0x1e5)][_0x27e34b(0x227)](_0x27e34b(0x1f9)),this['ensureLoggedIn'](),(0x0,promise_1[_0x27e34b(0xf2)])(this[_0x27e34b(0x18b)]['syncBomberman'],()=>{const _0x2f7fc3=_0x27e34b,_0x4a402f=(0x0,requests_1['makeSyncBombermanRequest'])(this[_0x2f7fc3(0x19f)],this[_0x2f7fc3(0xff)]());this[_0x2f7fc3(0x161)][_0x2f7fc3(0xf4)](_0x4a402f);},_0x431dd9||this['timeout']);}['startExplode'](_0x4e40b5,_0x580421=0x0){const _0x4e9213=_0x40cb2e;return this[_0x4e9213(0x165)](),(0x0,promise_1[_0x4e9213(0x128)])(this[_0x4e9213(0x18b)][_0x4e9213(0x1e8)],()=>{const _0x5928ad=_0x4e9213,_0x371f69=(0x0,requests_1['makeStartExplodeRequest'])(this[_0x5928ad(0x19f)],this[_0x5928ad(0xff)](),_0x4e40b5);this[_0x5928ad(0x161)][_0x5928ad(0xf4)](_0x371f69);},_0x580421||this[_0x4e9213(0x1ae)]);}[_0x40cb2e(0x1d3)](_0x591816,_0x17a290=0x0){const _0x415c71=_0x40cb2e;return this[_0x415c71(0x165)](),(0x0,promise_1[_0x415c71(0x128)])(this[_0x415c71(0x18b)]['startExplodeV2'],()=>{const _0x510eae=_0x415c71,_0x5ab33a=(0x0,requests_1[_0x510eae(0x1af)])(this[_0x510eae(0x19f)],this[_0x510eae(0xff)](),_0x591816);this[_0x510eae(0x161)][_0x510eae(0xf4)](_0x5ab33a);},_0x17a290||this[_0x415c71(0x1ae)]);}[_0x40cb2e(0x1ac)](_0x2ec38a,_0x1f2df0=0x0){const _0x6fc649=_0x40cb2e;return this[_0x6fc649(0x165)](),(0x0,promise_1[_0x6fc649(0x128)])(this[_0x6fc649(0x18b)][_0x6fc649(0x1ac)],()=>{const _0x1bb32d=_0x6fc649,_0xace2b2=(0x0,requests_1[_0x1bb32d(0x23b)])(this['walletId'],this['nextId'](),_0x2ec38a);this[_0x1bb32d(0x161)][_0x1bb32d(0xf4)](_0xace2b2);},_0x1f2df0||this['timeout']);}[_0x40cb2e(0x220)](_0x4e40d7,_0x13a669=0x0){const _0x40e2a3=_0x40cb2e;return this[_0x40e2a3(0x165)](),(0x0,promise_1['makeSerializedPromise'])(this[_0x40e2a3(0x18b)][_0x40e2a3(0x220)],()=>{const _0xb05e96=_0x40e2a3,_0x382560=(0x0,requests_1['makeEnemyTakeDamageRequest'])(this[_0xb05e96(0x19f)],this[_0xb05e96(0xff)](),_0x4e40d7);this[_0xb05e96(0x161)][_0xb05e96(0xf4)](_0x382560);},_0x13a669||this['timeout']);}['startPVE'](_0x2e1e5c=0x0,_0x427207){const _0x4c4d25=_0x40cb2e;return this[_0x4c4d25(0x165)](),(0x0,promise_1['makeUniquePromise'])(this[_0x4c4d25(0x18b)]['startPVE'],()=>{const _0x303df2=_0x4c4d25,_0x1c873f=(0x0,requests_1[_0x303df2(0x1a0)])(this[_0x303df2(0x19f)],this[_0x303df2(0xff)](),_0x427207);this[_0x303df2(0x161)][_0x303df2(0xf4)](_0x1c873f);},_0x2e1e5c||this[_0x4c4d25(0x1ae)]);}['stopPVE'](_0x43e733=0x0){const _0x55bd91=_0x40cb2e;return this[_0x55bd91(0x165)](),(0x0,promise_1[_0x55bd91(0xf2)])(this[_0x55bd91(0x18b)][_0x55bd91(0x1ed)],()=>{const _0x13e3aa=_0x55bd91,_0x4c450d=(0x0,requests_1[_0x13e3aa(0x11f)])(this[_0x13e3aa(0x19f)],this['nextId']());this[_0x13e3aa(0x161)][_0x13e3aa(0xf4)](_0x4c450d);},_0x43e733||this['timeout']);}[_0x40cb2e(0x1c4)](){const _0x4f874a=_0x40cb2e;this[_0x4f874a(0x165)](),logger_1[_0x4f874a(0x1e5)][_0x4f874a(0x227)](_0x4f874a(0x226));const _0x19e371=(0x0,requests_1['makePingPongRequest'])(this[_0x4f874a(0x19f)],this['nextId']());this[_0x4f874a(0x161)][_0x4f874a(0xf4)](_0x19e371);}[_0x40cb2e(0x1bc)]({contract:_0x5ef1c8,dataTransaction:_0x16ee92,gasLimit:_0x1c7fca}){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x238163=_0x1a62,_0x22c50a=new Promise((_0xff1ae6,_0x5e81e5)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x4ed203=_0x1a62;var _0x2c3e5a;try{if(!('privateKey'in this[_0x4ed203(0xf8)])||!((_0x2c3e5a=this['loginParams'])===null||_0x2c3e5a===void 0x0?void 0x0:_0x2c3e5a[_0x4ed203(0x23e)]))return![];const _0x4850c3=this[_0x4ed203(0x17c)][_0x4ed203(0x19e)][_0x4ed203(0x102)]['privateKeyToAccount'](this[_0x4ed203(0xf8)][_0x4ed203(0x23e)]),_0x5650d2=yield this[_0x4ed203(0x17c)]['eth']['getTransactionCount'](_0x4850c3[_0x4ed203(0x169)]),_0x1554b1=yield(0x0,lib_1[_0x4ed203(0x202)])(),_0x5f3141={'nonce':parseInt(this[_0x4ed203(0x17c)][_0x4ed203(0x230)][_0x4ed203(0x155)](_0x5650d2)),'to':_0x5ef1c8['options'][_0x4ed203(0x169)],'gasPrice':this['web3']['utils'][_0x4ed203(0x155)](this[_0x4ed203(0x17c)][_0x4ed203(0x230)][_0x4ed203(0x1a9)](_0x1554b1[_0x4ed203(0x1bf)](),_0x4ed203(0xfe))),'data':_0x16ee92[_0x4ed203(0x11d)]()};_0x1c7fca&&(_0x5f3141['gasLimit']=this[_0x4ed203(0x17c)][_0x4ed203(0x230)]['toHex'](_0x1c7fca));const _0x364c94=yield _0x4850c3[_0x4ed203(0x15a)](_0x5f3141);_0x364c94['rawTransaction']&&this[_0x4ed203(0x17c)][_0x4ed203(0x19e)][_0x4ed203(0x1f4)](_0x364c94[_0x4ed203(0x24b)],(_0xddf79a,_0x4064b5)=>{const _0x536e96=_0x4ed203;logger_1[_0x536e96(0x1e5)][_0x536e96(0x227)](_0x536e96(0x1d7)+_0x4064b5);if(_0xddf79a)return _0x5e81e5(_0xddf79a);const _0x3e7b95=setInterval(()=>{const _0x1eed5e=_0x536e96;this[_0x1eed5e(0x17c)][_0x1eed5e(0x19e)]['getTransactionReceipt'](_0x4064b5,(_0x1fca47,_0x411dcc)=>{const _0x22cf8d=_0x1eed5e;try{if(_0x1fca47)return _0x5e81e5(_0x1fca47);if(_0x411dcc){if(_0x411dcc[_0x22cf8d(0x14e)]){clearInterval(_0x3e7b95),_0xff1ae6(_0x411dcc);return;}else return _0x5e81e5(_0x22cf8d(0x1cd));}}catch(_0x20f832){return clearInterval(_0x3e7b95),_0x5e81e5(_0x20f832['message']+'\x0a\x0aHash:\x20'+_0x4064b5);}});},0x3e8);});}catch(_0x28bd56){_0x5e81e5(_0x28bd56);}}));return(0x0,lib_1[_0x238163(0x11c)])(_0x22c50a);});}[_0x40cb2e(0x236)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x233fcf=_0x1a62,_0x3ae590=new this[(_0x233fcf(0x17c))][(_0x233fcf(0x19e))][(_0x233fcf(0x212))]([{'inputs':[{'internalType':_0x233fcf(0x169),'name':_0x233fcf(0x207),'type':_0x233fcf(0x169)}],'name':_0x233fcf(0xec),'outputs':[{'internalType':_0x233fcf(0x247),'name':'','type':_0x233fcf(0x247)}],'stateMutability':_0x233fcf(0x186),'type':_0x233fcf(0x1bb)}],this[_0x233fcf(0x17c)][_0x233fcf(0x230)][_0x233fcf(0x17e)](constants_1['CONTRACT_BOMB'])),_0x3fe59c=yield _0x3ae590[_0x233fcf(0x114)][_0x233fcf(0xec)](constants_1[_0x233fcf(0x154)])[_0x233fcf(0x1b3)]();return this['web3']['utils'][_0x233fcf(0x151)](_0x3fe59c,'ether');});}[_0x40cb2e(0x203)](_0x3ec516,_0x4b5864=_0x40cb2e(0x176)){return __awaiter(this,void 0x0,void 0x0,function*(){const _0xdabe32=_0x1a62,_0x1d3c0b=new this[(_0xdabe32(0x17c))][(_0xdabe32(0x19e))][(_0xdabe32(0x212))]([{'inputs':[{'internalType':_0xdabe32(0x169),'name':_0xdabe32(0x207),'type':_0xdabe32(0x169)}],'name':_0xdabe32(0xec),'outputs':[{'internalType':_0xdabe32(0x247),'name':'','type':_0xdabe32(0x247)}],'stateMutability':_0xdabe32(0x186),'type':_0xdabe32(0x1bb)}],this['web3']['utils'][_0xdabe32(0x17e)](_0x3ec516)),_0x525165=yield _0x1d3c0b[_0xdabe32(0x114)][_0xdabe32(0xec)](this['loginParams'][_0xdabe32(0x232)])[_0xdabe32(0x1b3)]();return this['web3'][_0xdabe32(0x230)]['fromWei'](_0x525165,_0x4b5864);});}['web3GetRock'](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x13fc97=_0x1a62;if(this[_0x13fc97(0xf8)][_0x13fc97(0x147)]=='user')return null;const _0x2d0e76=new this[(_0x13fc97(0x17c))][(_0x13fc97(0x19e))]['Contract'](constants_1[_0x13fc97(0x123)],this[_0x13fc97(0x17c)][_0x13fc97(0x230)]['toChecksumAddress'](constants_1[_0x13fc97(0x1e7)])),_0x2fc8c2=yield _0x2d0e76[_0x13fc97(0x114)]['getTotalRockByUser'](this[_0x13fc97(0xf8)][_0x13fc97(0x232)])[_0x13fc97(0x1b3)]();return _0x2fc8c2;});}[_0x40cb2e(0x1c1)]({id:_0x398410,rockRepairShield:_0x2801e}){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x216caf=_0x1a62,_0x47316e=new this[(_0x216caf(0x17c))][(_0x216caf(0x19e))]['Contract'](constants_1['ABI_RESET_SHIELD_HERO'],this[_0x216caf(0x17c)][_0x216caf(0x230)][_0x216caf(0x17e)](constants_1[_0x216caf(0x1e7)])),_0x56bb60=yield _0x47316e['methods'][_0x216caf(0x22f)](this[_0x216caf(0x17c)][_0x216caf(0x230)][_0x216caf(0x141)](_0x398410),this['web3'][_0x216caf(0x230)][_0x216caf(0x141)](_0x2801e))['estimateGas']({'from':this[_0x216caf(0xf8)][_0x216caf(0x232)]}),_0x40cea3=yield _0x47316e['methods'][_0x216caf(0x22f)](this[_0x216caf(0x17c)][_0x216caf(0x230)][_0x216caf(0x141)](_0x398410),this[_0x216caf(0x17c)][_0x216caf(0x230)][_0x216caf(0x141)](_0x2801e));return this['sendTransactionWeb3']({'contract':_0x47316e,'dataTransaction':_0x40cea3,'gasLimit':_0x56bb60});});}['web3CreateRock'](_0x2ab7fd){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1d65ab=_0x1a62,_0x37324e=new this[(_0x1d65ab(0x17c))][(_0x1d65ab(0x19e))]['Contract'](constants_1[_0x1d65ab(0x123)],this[_0x1d65ab(0x17c)][_0x1d65ab(0x230)][_0x1d65ab(0x17e)](constants_1['CONTRACT_RESET_SHIELD'])),_0xc45ee1=yield _0x37324e[_0x1d65ab(0x114)]['createRock'](_0x2ab7fd[_0x1d65ab(0xfd)](_0x49d7a3=>this['web3'][_0x1d65ab(0x230)][_0x1d65ab(0x141)](_0x49d7a3)))[_0x1d65ab(0x18e)]({'from':this['loginParams'][_0x1d65ab(0x232)]}),_0x1687e2=yield _0x37324e[_0x1d65ab(0x114)][_0x1d65ab(0x233)](_0x2ab7fd[_0x1d65ab(0xfd)](_0x3340ca=>this[_0x1d65ab(0x17c)]['utils'][_0x1d65ab(0x141)](_0x3340ca)));return this[_0x1d65ab(0x1bc)]({'contract':_0x37324e,'gasLimit':_0xc45ee1,'dataTransaction':_0x1687e2});});}[_0x40cb2e(0x18f)](_0x612c0b){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise(_0x452cf5=>{const _0x8b4a64=_0x1a62;this[_0x8b4a64(0x17c)][_0x8b4a64(0x19e)]['getTransactionReceipt'](_0x612c0b,(_0x4f931d,_0x5b48d4)=>{if(_0x5b48d4)return _0x452cf5(!![]);return _0x452cf5(![]);});});});}[_0x40cb2e(0x106)]({amount:_0xe83f61,details:_0x4e61f6,nonce:_0x50b154,signature:_0x471b8f,tokenType:_0x4a6413}){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x45931a=_0x1a62,_0x56096f=new this[(_0x45931a(0x17c))]['eth'][(_0x45931a(0x212))](constants_1[_0x45931a(0x239)],this[_0x45931a(0x17c)][_0x45931a(0x230)][_0x45931a(0x17e)](constants_1['CONTRACT_APPROVE_CLAIM'])),_0x18715f=yield _0x56096f[_0x45931a(0x114)][_0x45931a(0x182)](this[_0x45931a(0x17c)][_0x45931a(0x230)][_0x45931a(0x141)](_0x4a6413),this[_0x45931a(0x17c)]['utils'][_0x45931a(0x1a9)](_0xe83f61[_0x45931a(0x1bf)](),_0x45931a(0x176)),this[_0x45931a(0x17c)]['utils']['toBN'](_0x50b154),_0x4e61f6,_0x471b8f)[_0x45931a(0x18e)]({'from':this[_0x45931a(0xf8)][_0x45931a(0x232)]}),_0x380564=_0x56096f[_0x45931a(0x114)][_0x45931a(0x182)](this[_0x45931a(0x17c)][_0x45931a(0x230)]['toBN'](_0x4a6413),this['web3'][_0x45931a(0x230)]['toWei'](_0xe83f61[_0x45931a(0x1bf)](),_0x45931a(0x176)),this['web3']['utils'][_0x45931a(0x141)](_0x50b154),_0x4e61f6,_0x471b8f);return this[_0x45931a(0x1bc)]({'contract':_0x56096f,'dataTransaction':_0x380564,'gasLimit':_0x18715f});});}[_0x40cb2e(0x20b)](_0x371229,_0xdc3d63=0x0){const _0x2e79e7=_0x40cb2e;return this['ensureLoggedIn'](),(0x0,promise_1[_0x2e79e7(0x128)])(this[_0x2e79e7(0x18b)][_0x2e79e7(0x20b)],()=>{const _0x2b6f71=_0x2e79e7,_0x24e898=(0x0,requests_1[_0x2b6f71(0x120)])(this[_0x2b6f71(0x19f)],this[_0x2b6f71(0xff)](),_0x371229);this['sfs'][_0x2b6f71(0xf4)](_0x24e898);},_0xdc3d63||this[_0x2e79e7(0x1ae)]);}[_0x40cb2e(0x135)](_0x458b04,_0x3d4fb2=0x0){const _0x2fafa7=_0x40cb2e;return this[_0x2fafa7(0x165)](),(0x0,promise_1['makeSerializedPromise'])(this[_0x2fafa7(0x18b)][_0x2fafa7(0x135)],()=>{const _0x5081b5=_0x2fafa7,_0x4d1bcc=(0x0,requests_1[_0x5081b5(0x201)])(this[_0x5081b5(0x19f)],this[_0x5081b5(0xff)](),_0x458b04);this['sfs']['send'](_0x4d1bcc);},_0x3d4fb2||this['timeout']);}[_0x40cb2e(0x1d5)](_0x3a628a,_0x37c681=0x0){const _0x27a271=_0x40cb2e;return this[_0x27a271(0x165)](),(0x0,promise_1[_0x27a271(0x128)])(this[_0x27a271(0x18b)]['goWork'],()=>{const _0x2d68ca=_0x27a271,_0xe7f145=(0x0,requests_1['makeGoWorkRequest'])(this['walletId'],this['nextId'](),_0x3a628a);this[_0x2d68ca(0x161)][_0x2d68ca(0xf4)](_0xe7f145);},_0x37c681||this[_0x27a271(0x1ae)]);}['getReward'](_0x3c5778=0x0){const _0x3248be=_0x40cb2e;return this[_0x3248be(0x165)](),(0x0,promise_1[_0x3248be(0xf2)])(this[_0x3248be(0x18b)]['getReward'],()=>{const _0x2f153b=_0x3248be,_0x50aede=(0x0,requests_1[_0x2f153b(0x124)])(this[_0x2f153b(0x19f)],this[_0x2f153b(0xff)]());this['sfs'][_0x2f153b(0xf4)](_0x50aede);},_0x3c5778||this['timeout']);}[_0x40cb2e(0x1a7)](_0x3c3481=0x0){const _0x1e0931=_0x40cb2e;return this[_0x1e0931(0x165)](),(0x0,promise_1['makeUniquePromise'])(this['controller']['coinDetail'],()=>{const _0x39678f=_0x1e0931,_0x12375d=(0x0,requests_1[_0x39678f(0x23a)])(this['walletId'],this[_0x39678f(0xff)]());this[_0x39678f(0x161)][_0x39678f(0xf4)](_0x12375d);},_0x3c3481||this['timeout']);}[_0x40cb2e(0x1f7)](_0xb1f77b=0x0){const _0x163489=_0x40cb2e;return this[_0x163489(0x165)](),(0x0,promise_1[_0x163489(0xf2)])(this[_0x163489(0x18b)][_0x163489(0x1f7)],()=>{const _0x31546a=_0x163489,_0x3c106c=(0x0,requests_1[_0x31546a(0x22a)])(this['walletId'],this[_0x31546a(0xff)]());this[_0x31546a(0x161)][_0x31546a(0xf4)](_0x3c106c);},_0xb1f77b||this[_0x163489(0x1ae)]);}[_0x40cb2e(0x222)](_0xb48e9b,_0xd5550d,_0x2c48ce=0x0){const _0x481207=_0x40cb2e;return this[_0x481207(0x165)](),(0x0,promise_1[_0x481207(0xf2)])(this[_0x481207(0x18b)]['getStoryMap'],()=>{const _0x1b02bf=_0x481207,_0x52e7da=(0x0,requests_1[_0x1b02bf(0x162)])(this['walletId'],this[_0x1b02bf(0xff)](),_0xb48e9b,_0xd5550d);this[_0x1b02bf(0x161)][_0x1b02bf(0xf4)](_0x52e7da);},_0x2c48ce||this[_0x481207(0x1ae)]);}[_0x40cb2e(0x170)](_0x43aa95=0x0){const _0x4c4f91=_0x40cb2e;return this[_0x4c4f91(0x165)](),(0x0,promise_1['makeUniquePromise'])(this[_0x4c4f91(0x18b)][_0x4c4f91(0x170)],()=>{const _0x396b24=_0x4c4f91,_0x18bef9=(0x0,requests_1['makeEnterDoorRequest'])(this[_0x396b24(0x19f)],this[_0x396b24(0xff)]());this[_0x396b24(0x161)]['send'](_0x18bef9);},_0x43aa95||this['timeout']);}['wipe'](){const _0x6311f4=_0x40cb2e;if(this['isConnected'])this['sfs'][_0x6311f4(0x117)]();this[_0x6311f4(0x241)]={'connection':[],'connectionFailed':[],'connectionLost':[],'login':[],'approveClaim':[],'activeBomber':[],'confirmClaimRewardSuccess':[],'loginError':[],'logout':[],'getHeroUpgradePower':[],'getBlockMap':[],'syncHouse':[],'activeHouse':[],'getActiveBomber':[],'syncBomberman':[],'startPVE':[],'ping':[],'stopPVE':[],'startExplode':[],'startExplodeV2':[],'startStoryExplode':[],'enemyTakeDamage':[],'goSleep':[],'goHome':[],'goWork':[],'getReward':[],'coinDetail':[],'getStoryDetails':[],'getStoryMap':[],'enterDoor':[],'messageError':[]},this['controller']={'connect':{'current':undefined},'disconnect':{'current':undefined},'login':{'current':undefined},'approveClaim':{'current':undefined},'activeBomber':{'current':undefined},'confirmClaimRewardSuccess':{'current':undefined},'logout':{'current':undefined},'getHeroUpgradePower':{'current':undefined},'getBlockMap':{'current':undefined},'syncHouse':{'current':undefined},'activeHouse':{'current':undefined},'getActiveHeroes':{'current':undefined},'syncBomberman':{'current':undefined},'startPVE':{'current':undefined},'stopPVE':{'current':undefined},'ping':{'current':undefined},'startExplode':{'current':undefined,'executors':[]},'startExplodeV2':{'current':undefined,'executors':[]},'startStoryExplode':{'current':undefined,'executors':[]},'enemyTakeDamage':{'current':undefined,'executors':[]},'goWork':{'current':undefined,'executors':[]},'goSleep':{'current':undefined,'executors':[]},'goHome':{'current':undefined,'executors':[]},'getReward':{'current':undefined},'coinDetail':{'current':undefined},'getStoryDetails':{'current':undefined},'getStoryMap':{'current':undefined},'enterDoor':{'current':undefined}},this[_0x6311f4(0x116)]=0x0;}[_0x40cb2e(0x165)](){const _0x25dc66=_0x40cb2e;if(!this['isLoggedIn'])throw(0x0,err_1[_0x25dc66(0x242)])(_0x25dc66(0x196),_0x25dc66(0x1db));}[_0x40cb2e(0xff)](){return this['messageId']++;}[_0x40cb2e(0x1de)](_0x57121b,_0x59144b){const _0x34668d=_0x40cb2e;return _0x57121b[_0x34668d(0x211)](_0x59144b),()=>_0x57121b[_0x34668d(0x198)](_0x57121b['indexOf'](_0x59144b),0x1);}[_0x40cb2e(0x137)](_0x47ff70,..._0x575676){const _0x54286d=_0x40cb2e;_0x47ff70[_0x54286d(0x148)](_0x4cbf78=>_0x4cbf78(..._0x575676));}[_0x40cb2e(0x250)](_0x1333a5){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1c4107=_0x1a62;if(_0x1333a5[_0x1c4107(0x249)])yield(0x0,config_1[_0x1c4107(0x121)])(__1[_0x1c4107(0x12d)][_0x1c4107(0x15b)](),_0x1c4107(0x15d),null),this['callHandler'](this[_0x1c4107(0x241)][_0x1c4107(0x188)]),(0x0,promise_1[_0x1c4107(0x113)])(this['controller'][_0x1c4107(0x1b8)],undefined);else{if(this[_0x1c4107(0x146)][_0x1c4107(0x100)]){let _0x1027bd=(yield(0x0,config_1[_0x1c4107(0x1c0)])(__1[_0x1c4107(0x12d)][_0x1c4107(0x15b)](),_0x1c4107(0x15d)))||{'try':0x0,'server':this[_0x1c4107(0x146)][_0x1c4107(0x21a)]};if(_0x1027bd[_0x1c4107(0x210)]>=0x5){const _0x31c432=constants_1[_0x1c4107(0x240)][_0x1c4107(0x205)](_0x2cf556=>_0x2cf556!=_0x1027bd['server']),_0x33f39d=_0x31c432[Math['floor'](Math['random']()*_0x31c432[_0x1c4107(0x244)])];_0x1027bd={'try':0x0,'server':_0x33f39d};}_0x1027bd[_0x1c4107(0x210)]++,yield(0x0,config_1[_0x1c4107(0x121)])(__1['bot']['getIdentify'](),_0x1c4107(0x15d),_0x1027bd);}this[_0x1c4107(0x137)](this[_0x1c4107(0x241)]['connectionFailed']),(0x0,promise_1[_0x1c4107(0x1d9)])(this[_0x1c4107(0x18b)][_0x1c4107(0x1b8)],(0x0,err_1[_0x1c4107(0x242)])(_0x1c4107(0x14d),_0x1c4107(0x1b5)));}});}[_0x40cb2e(0x1f0)](){const _0x261ff5=_0x40cb2e;this[_0x261ff5(0x137)](this[_0x261ff5(0x241)]['login']);}['handleLoginError']({errorCode:_0x2db154}){const _0x2e0db3=_0x40cb2e;(0x0,promise_1[_0x2e0db3(0x1d9)])(this['controller']['login'],(0x0,err_1[_0x2e0db3(0x242)])('LoginFailed',_0x2e0db3(0x142)+_0x2db154)),this[_0x2e0db3(0x137)](this[_0x2e0db3(0x241)][_0x2e0db3(0x185)],_0x2db154);}['handleUserLogin'](){const _0x55fd16=_0x40cb2e;(0x0,promise_1[_0x55fd16(0x113)])(this['controller'][_0x55fd16(0x150)],undefined);}[_0x40cb2e(0x134)](){const _0x4b35c9=_0x40cb2e;(0x0,promise_1[_0x4b35c9(0x113)])(this[_0x4b35c9(0x18b)][_0x4b35c9(0x1c6)],undefined),this[_0x4b35c9(0x137)](this[_0x4b35c9(0x241)][_0x4b35c9(0x1c6)]);}[_0x40cb2e(0x20c)](){const _0x4bac2c=_0x40cb2e;(0x0,promise_1[_0x4bac2c(0x113)])(this[_0x4bac2c(0x18b)]['getHeroUpgradePower'],undefined),this[_0x4bac2c(0x137)](this[_0x4bac2c(0x241)]['getHeroUpgradePower']);}['handleConnectionLost'](){const _0xb94a98=_0x40cb2e;(0x0,promise_1[_0xb94a98(0x113)])(this[_0xb94a98(0x18b)][_0xb94a98(0x117)],undefined),this[_0xb94a98(0x137)](this[_0xb94a98(0x241)][_0xb94a98(0x14b)]);}[_0x40cb2e(0x130)](_0x42b6bf){const _0x155791=_0x40cb2e,_0x2b9ae7=_0x42b6bf['getUtfString'](this[_0x155791(0x1e6)]?_0x155791(0x237):_0x155791(0x223)),_0x10acf3=JSON[_0x155791(0x246)](_0x2b9ae7);(0x0,promise_1[_0x155791(0x113)])(this[_0x155791(0x18b)][_0x155791(0x238)],_0x10acf3),this[_0x155791(0x137)](this[_0x155791(0x241)][_0x155791(0x238)],_0x10acf3);}[_0x40cb2e(0x115)](_0x2c49ad){const _0x180dc8=_0x40cb2e,_0x7045b3=_0x2c49ad[_0x180dc8(0x10c)](_0x180dc8(0x193)),_0x198f6f=Array(_0x7045b3[_0x180dc8(0x13b)]())[_0x180dc8(0x1b9)](null)[_0x180dc8(0xfd)]((_0x37c255,_0x1ca388)=>{const _0x5e5ff=_0x180dc8,_0x56546c=_0x7045b3[_0x5e5ff(0x1fd)](_0x1ca388),_0x2d9beb=_0x56546c[_0x5e5ff(0x10c)](_0x5e5ff(0x177)),_0x5b0dc2=Array(_0x2d9beb[_0x5e5ff(0x13b)]()),_0x2c956b=_0x56546c[_0x5e5ff(0x1fd)](_0x5e5ff(0x1b4));return{'shields':_0x5b0dc2['fill'](null)[_0x5e5ff(0xfd)]((_0x1bdb7e,_0x3897b1)=>{const _0x1010a2=_0x5e5ff,_0x11327c=_0x2d9beb[_0x1010a2(0x1fd)](_0x3897b1);return{'current':_0x11327c[_0x1010a2(0x218)]('current'),'total':_0x11327c[_0x1010a2(0x218)](_0x1010a2(0x17b)),'ability':_0x11327c[_0x1010a2(0x218)](_0x1010a2(0x13c))};}),'stage':_0x56546c['getInt'](_0x5e5ff(0x22e)),'id':_0x56546c[_0x5e5ff(0x1cf)]('id'),'gen_id':_0x56546c[_0x5e5ff(0x125)](_0x5e5ff(0x1ec)),'energy':_0x56546c[_0x5e5ff(0x218)](_0x5e5ff(0x11e)),'active':_0x56546c[_0x5e5ff(0x218)](_0x5e5ff(0x14f)),'heroType':_0x2c956b[_0x5e5ff(0x218)](_0x5e5ff(0x23c)),'restore_hp':_0x56546c[_0x5e5ff(0x218)](_0x5e5ff(0xfb))};});(0x0,promise_1['resolveUniquePromise'])(this['controller'][_0x180dc8(0x24c)],_0x198f6f),this[_0x180dc8(0x137)](this[_0x180dc8(0x241)][_0x180dc8(0x24c)],_0x198f6f);}[_0x40cb2e(0x16d)](_0x5cc0e9){const _0x1bbae4=_0x40cb2e,_0x4d9e0d=_0x5cc0e9['getSFSArray']('bombers'),_0x1dc519=Array(_0x4d9e0d[_0x1bbae4(0x13b)]())['fill'](null)[_0x1bbae4(0xfd)]((_0x328c7c,_0x295f76)=>{const _0xb65010=_0x1bbae4,_0x4553fd=_0x4d9e0d[_0xb65010(0x1fd)](_0x295f76),_0x2e2fe4=_0x4553fd[_0xb65010(0x10c)]('shields'),_0x3a372b=Array(_0x2e2fe4[_0xb65010(0x13b)]());return{'shields':_0x3a372b['fill'](null)['map']((_0x56ff7c,_0x62f4)=>{const _0x10b276=_0xb65010,_0x49557b=_0x2e2fe4[_0x10b276(0x1fd)](_0x62f4);return{'current':_0x49557b[_0x10b276(0x218)](_0x10b276(0x1b6)),'total':_0x49557b[_0x10b276(0x218)](_0x10b276(0x17b)),'ability':_0x49557b[_0x10b276(0x218)](_0x10b276(0x13c))};}),'stage':_0x4553fd['getInt'](_0xb65010(0x22e)),'id':_0x4553fd[_0xb65010(0x1cf)]('id'),'gen_id':_0x4553fd[_0xb65010(0x125)](_0xb65010(0x1ec)),'energy':_0x4553fd[_0xb65010(0x218)]('energy'),'heroType':_0x4553fd[_0xb65010(0x218)]('hero_type')};});(0x0,promise_1[_0x1bbae4(0x113)])(this[_0x1bbae4(0x18b)]['getActiveHeroes'],_0x1dc519),this['callHandler'](this[_0x1bbae4(0x241)][_0x1bbae4(0x1f3)],_0x1dc519);}['handleStartExplode'](_0x96f111){const _0xf3897f=_0x40cb2e,_0x1c5bf2=_0x96f111[_0xf3897f(0x1cf)]('id'),_0x302518=_0x96f111[_0xf3897f(0x10c)](_0xf3897f(0x10d)),_0x37d58b=Array(_0x302518[_0xf3897f(0x13b)]())[_0xf3897f(0x1b9)](null)[_0xf3897f(0xfd)]((_0x1b6c2d,_0x23c0ac)=>{const _0x49ef3e=_0xf3897f,_0x1ba34a=_0x302518[_0x49ef3e(0x1fd)](_0x23c0ac),_0x1d416e=_0x1ba34a['getSFSArray'](_0x49ef3e(0x163)),_0x4e55b6=Array(_0x1d416e['size']())[_0x49ef3e(0x1b9)](null)[_0x49ef3e(0xfd)]((_0x48d50f,_0x5be8b0)=>{const _0x37ec39=_0x49ef3e,_0x508d24=_0x1d416e[_0x37ec39(0x1fd)](_0x5be8b0);return{'type':_0x508d24[_0x37ec39(0x125)](_0x37ec39(0x147)),'value':_0x508d24[_0x37ec39(0x1fe)](_0x37ec39(0xef))};});return{'hp':_0x1ba34a[_0x49ef3e(0x218)]('hp'),'i':_0x1ba34a[_0x49ef3e(0x218)]('i'),'j':_0x1ba34a['getInt']('j'),'rewards':_0x4e55b6};}),_0x2f4ce5={'id':_0x1c5bf2,'energy':_0x96f111[_0xf3897f(0x218)](_0xf3897f(0x11e)),'blocks':_0x37d58b};(0x0,promise_1[_0xf3897f(0x175)])(this[_0xf3897f(0x18b)]['startExplode'],_0x2f4ce5),this[_0xf3897f(0x137)](this[_0xf3897f(0x241)][_0xf3897f(0x1e8)],_0x2f4ce5);}['handleStartStoryExplode'](_0x92656f){const _0x2469db=_0x40cb2e,_0x16f32d=_0x92656f[_0x2469db(0x10c)](_0x2469db(0x10d)),_0x516b16=Array(_0x16f32d['size']())[_0x2469db(0x1b9)](null)['map']((_0x25986a,_0x965aec)=>{const _0x1e80d4=_0x2469db,_0x2fa6e3=_0x16f32d[_0x1e80d4(0x1fd)](_0x965aec);return{'i':_0x2fa6e3[_0x1e80d4(0x218)]('i'),'j':_0x2fa6e3[_0x1e80d4(0x218)]('j')};}),_0x29f5df=_0x92656f[_0x2469db(0x10c)](_0x2469db(0x156)),_0x12aa19=Array(_0x29f5df['size']())[_0x2469db(0x1b9)](null)['map']((_0x27d909,_0x16382e)=>{const _0x29bd5d=_0x2469db,_0x66c579=_0x29f5df[_0x29bd5d(0x1fd)](_0x16382e);return{'damage':_0x66c579[_0x29bd5d(0x218)](_0x29bd5d(0xf1)),'maxHp':_0x66c579[_0x29bd5d(0x1fe)]('maxHp'),'skin':_0x66c579[_0x29bd5d(0x218)](_0x29bd5d(0x13f)),'hp':_0x66c579[_0x29bd5d(0x1fe)]('hp'),'id':_0x66c579[_0x29bd5d(0x218)]('id'),'follow':_0x66c579['getBool'](_0x29bd5d(0x171)),'bombSkin':_0x66c579['getInt'](_0x29bd5d(0x126)),'speed':_0x66c579[_0x29bd5d(0x1fe)]('speed'),'throughBrick':_0x66c579['getBool'](_0x29bd5d(0x189))};}),_0x22b6a9={'bombId':_0x92656f[_0x2469db(0x1cf)](_0x2469db(0x206)),'blocks':_0x516b16,'enemies':_0x12aa19};(0x0,promise_1['resolveSerializedPromise'])(this['controller'][_0x2469db(0x1ac)],_0x22b6a9),this[_0x2469db(0x137)](this[_0x2469db(0x241)][_0x2469db(0x1ac)],_0x22b6a9);}['handleEnemyTakeDamage'](_0x79bd48){const _0x4dec6e=_0x40cb2e,_0xc66579={'damage':_0x79bd48['getInt'](_0x4dec6e(0xf1)),'code':_0x79bd48[_0x4dec6e(0x218)](_0x4dec6e(0x15f)),'hp':_0x79bd48[_0x4dec6e(0x1fe)]('hp'),'id':_0x79bd48[_0x4dec6e(0x218)]('id')};(0x0,promise_1[_0x4dec6e(0x175)])(this[_0x4dec6e(0x18b)][_0x4dec6e(0x220)],_0xc66579),this['callHandler'](this[_0x4dec6e(0x241)][_0x4dec6e(0x220)],_0xc66579);}[_0x40cb2e(0x190)](_0x267b0e){const _0xb995c6=_0x40cb2e,_0x1ea9a3=_0x267b0e[_0xb995c6(0x1cf)]('id'),_0x56e67a=_0x267b0e[_0xb995c6(0x10c)](_0xb995c6(0x10d)),_0x322b7b=Array(_0x56e67a['size']())[_0xb995c6(0x1b9)](null)[_0xb995c6(0xfd)]((_0x175e77,_0x2b175f)=>{const _0x1591c7=_0xb995c6,_0x23e4ff=_0x56e67a[_0x1591c7(0x1fd)](_0x2b175f),_0x3ddf59=_0x23e4ff[_0x1591c7(0x10c)](_0x1591c7(0x163));let _0x110739=[];return _0x3ddf59&&(_0x110739=Array(_0x3ddf59['size']())[_0x1591c7(0x1b9)](null)[_0x1591c7(0xfd)]((_0x124a02,_0x1f1dcd)=>{const _0x15e3ad=_0x1591c7,_0x5935fd=_0x3ddf59[_0x15e3ad(0x1fd)](_0x1f1dcd);return{'type':_0x5935fd[_0x15e3ad(0x125)](_0x15e3ad(0x147)),'value':_0x5935fd[_0x15e3ad(0x1fe)](_0x15e3ad(0xef))};})),{'hp':_0x23e4ff['getInt']('hp'),'i':_0x23e4ff[_0x1591c7(0x218)]('i'),'j':_0x23e4ff['getInt']('j'),'rewards':_0x110739};}),_0x45010c={'id':_0x1ea9a3,'energy':_0x267b0e[_0xb995c6(0x218)]('energy'),'blocks':_0x322b7b};(0x0,promise_1[_0xb995c6(0x175)])(this[_0xb995c6(0x18b)]['startExplodeV2'],_0x45010c),this[_0xb995c6(0x137)](this[_0xb995c6(0x241)][_0xb995c6(0x1d3)],_0x45010c);}[_0x40cb2e(0x12c)](){const _0x2761cf=_0x40cb2e;(0x0,promise_1[_0x2761cf(0x113)])(this[_0x2761cf(0x18b)][_0x2761cf(0x245)],undefined),this[_0x2761cf(0x137)](this[_0x2761cf(0x241)][_0x2761cf(0x245)]);}[_0x40cb2e(0x200)](){const _0x55e4e1=_0x40cb2e;(0x0,promise_1[_0x55e4e1(0x113)])(this[_0x55e4e1(0x18b)][_0x55e4e1(0x1ed)],undefined),this[_0x55e4e1(0x137)](this[_0x55e4e1(0x241)][_0x55e4e1(0x1ed)]);}[_0x40cb2e(0x1e2)](_0x2b4f7f){const _0x257e96=_0x40cb2e,_0x3d23d6=_0x2b4f7f['getLong']('id'),_0x50be7a=_0x2b4f7f[_0x257e96(0x218)](_0x257e96(0x11e)),_0x4e2d80={'id':_0x3d23d6,'energy':_0x50be7a};(0x0,promise_1['resolveSerializedPromise'])(this[_0x257e96(0x18b)][_0x257e96(0x20b)],_0x4e2d80),this[_0x257e96(0x137)](this[_0x257e96(0x241)][_0x257e96(0x20b)],_0x4e2d80);}[_0x40cb2e(0x1ee)](_0x4e5818){const _0x45eabd=_0x40cb2e,_0x5d2bad=_0x4e5818[_0x45eabd(0x1cf)]('id'),_0x12e68a=_0x4e5818['getInt'](_0x45eabd(0x11e)),_0x4f8b11={'id':_0x5d2bad,'energy':_0x12e68a};(0x0,promise_1[_0x45eabd(0x175)])(this[_0x45eabd(0x18b)]['goHome'],_0x4f8b11),this[_0x45eabd(0x137)](this['handlers']['goHome'],_0x4f8b11);}['handleGoWork'](_0x382bc8){const _0xa9334=_0x40cb2e,_0xf187b8=_0x382bc8[_0xa9334(0x1cf)]('id'),_0x4e8ef9=_0x382bc8['getInt'](_0xa9334(0x11e)),_0x29c875={'id':_0xf187b8,'energy':_0x4e8ef9};(0x0,promise_1[_0xa9334(0x175)])(this[_0xa9334(0x18b)][_0xa9334(0x1d5)],_0x29c875),this[_0xa9334(0x137)](this[_0xa9334(0x241)]['goWork'],_0x29c875);}[_0x40cb2e(0x1e9)](_0x28a75e){const _0x1d223d=_0x40cb2e,_0x2de840=_0x28a75e[_0x1d223d(0x10c)](_0x1d223d(0x163)),_0x3264ca=Array(_0x2de840[_0x1d223d(0x13b)]())[_0x1d223d(0x1b9)](null)[_0x1d223d(0xfd)]((_0x121c06,_0x4859d0)=>{const _0x1aa70e=_0x1d223d,_0xab3665=_0x2de840[_0x1aa70e(0x1fd)](_0x4859d0);return{'remainTime':_0xab3665[_0x1aa70e(0x218)](_0x1aa70e(0x11a)),'type':(0x0,reward_1[_0x1aa70e(0x20e)])(_0xab3665[_0x1aa70e(0x125)](_0x1aa70e(0x147))),'value':_0xab3665[_0x1aa70e(0x1fe)](_0x1aa70e(0xef)),'claimPending':_0xab3665[_0x1aa70e(0x122)]('claimPending'),'network':_0xab3665[_0x1aa70e(0x125)](_0x1aa70e(0x107))};});(0x0,promise_1[_0x1d223d(0x113)])(this[_0x1d223d(0x18b)][_0x1d223d(0x1ef)],_0x3264ca),this['callHandler'](this['handlers'][_0x1d223d(0x1ef)],_0x3264ca);}[_0x40cb2e(0x178)](_0x546497){const _0x345749=_0x40cb2e,_0x38ae71={'mined':_0x546497[_0x345749(0x1fe)]('mined'),'invested':_0x546497['getFloat'](_0x345749(0xf6)),'rewards':_0x546497[_0x345749(0x1fe)](_0x345749(0x163))};(0x0,promise_1[_0x345749(0x113)])(this[_0x345749(0x18b)][_0x345749(0x1a7)],_0x38ae71),this[_0x345749(0x137)](this['handlers'][_0x345749(0x1a7)],_0x38ae71);}[_0x40cb2e(0x224)](_0x7fd308){const _0x4532f1=_0x40cb2e,_0x37088d=_0x7fd308[_0x4532f1(0x10c)](_0x4532f1(0x1be)),_0x2be48f=Array(_0x37088d[_0x4532f1(0x13b)]())[_0x4532f1(0x1b9)](null)[_0x4532f1(0xfd)]((_0x103eff,_0x36ddfe)=>{const _0x1f62ca=_0x4532f1,_0x275e9a=_0x37088d['getSFSObject'](_0x36ddfe);return{'rare':_0x275e9a['getInt'](_0x1f62ca(0x24e)),'replay':_0x275e9a[_0x1f62ca(0x1fe)]('replay'),'first_win':_0x275e9a['getFloat'](_0x1f62ca(0x1b0))};}),_0x3a84b7=_0x7fd308[_0x4532f1(0x10c)]('played_bombers'),_0x1417f2=Array(_0x3a84b7['size']())[_0x4532f1(0x1b9)](null)[_0x4532f1(0xfd)]((_0x3552e7,_0x17db2f)=>{const _0x4e2f0f=_0x4532f1,_0x6c37ba=_0x3a84b7[_0x4e2f0f(0x1fd)](_0x17db2f);return{'remaining_time':_0x6c37ba['getLong']('remaining_time'),'id':_0x6c37ba[_0x4e2f0f(0x1cf)]('id')};}),_0x14fb2c={'level_rewards':_0x2be48f,'played_bombers':_0x1417f2,'is_new':_0x7fd308[_0x4532f1(0x228)]('is_new'),'max_level':_0x7fd308[_0x4532f1(0x218)](_0x4532f1(0x10f)),'current_level':_0x7fd308['getInt']('current_level'),'hero_id':_0x7fd308['getLong'](_0x4532f1(0x21f))};(0x0,promise_1[_0x4532f1(0x113)])(this[_0x4532f1(0x18b)][_0x4532f1(0x1f7)],_0x14fb2c),this[_0x4532f1(0x137)](this[_0x4532f1(0x241)][_0x4532f1(0x1f7)],_0x14fb2c);}[_0x40cb2e(0x225)](_0x38e5ca){const _0x1aea2e=_0x40cb2e,_0x183035=JSON['parse'](_0x38e5ca['getUtfString']('positions')),_0xb07fdf=_0x38e5ca['getSFSArray']('enemies'),_0x270157=Array(_0xb07fdf[_0x1aea2e(0x13b)]())[_0x1aea2e(0x1b9)](null)[_0x1aea2e(0xfd)]((_0x3f3955,_0x3a36e7)=>{const _0x33e807=_0x1aea2e,_0x4105b4=_0xb07fdf[_0x33e807(0x1fd)](_0x3a36e7);return{'damage':_0x4105b4[_0x33e807(0x218)](_0x33e807(0xf1)),'maxHp':_0x4105b4[_0x33e807(0x1fe)](_0x33e807(0x1d8)),'skin':_0x4105b4[_0x33e807(0x218)](_0x33e807(0x13f)),'hp':_0x4105b4[_0x33e807(0x1fe)]('hp'),'id':_0x4105b4[_0x33e807(0x218)]('id'),'follow':_0x4105b4[_0x33e807(0x228)](_0x33e807(0x171)),'bombSkin':_0x4105b4[_0x33e807(0x218)](_0x33e807(0x126)),'speed':_0x4105b4[_0x33e807(0x1fe)](_0x33e807(0x1a6)),'throughBrick':_0x4105b4[_0x33e807(0x228)](_0x33e807(0x189))};}),_0x508b36=_0x38e5ca['getSFSObject'](_0x1aea2e(0x213)),_0x9f6cc1={'maxHp':_0x508b36[_0x1aea2e(0x218)]('maxHp'),'level':_0x508b36['getInt'](_0x1aea2e(0x1c9)),'stamina':_0x508b36['getInt'](_0x1aea2e(0x1da)),'playercolor':_0x508b36[_0x1aea2e(0x218)](_0x1aea2e(0x1dc)),'active':_0x508b36['getInt'](_0x1aea2e(0x14f)),'bombSkin':_0x508b36[_0x1aea2e(0x218)](_0x1aea2e(0x126)),'speed':_0x508b36[_0x1aea2e(0x218)](_0x1aea2e(0x1a6)),'bombDamage':_0x508b36['getInt'](_0x1aea2e(0x10b)),'genId':_0x508b36[_0x1aea2e(0x125)](_0x1aea2e(0x18a)),'abilities':_0x508b36[_0x1aea2e(0x19b)](_0x1aea2e(0x1d4)),'bombRange':_0x508b36[_0x1aea2e(0x218)](_0x1aea2e(0x24f)),'stage':_0x508b36[_0x1aea2e(0x218)]('stage'),'playerType':_0x508b36[_0x1aea2e(0x218)]('playerType'),'rare':_0x508b36[_0x1aea2e(0x218)](_0x1aea2e(0x24e)),'heroType':_0x508b36[_0x1aea2e(0x218)]('hero_type'),'bombNum':_0x508b36[_0x1aea2e(0x218)](_0x1aea2e(0x187)),'id':_0x508b36['getLong']('id')},_0x13a22b={'positions':_0x183035,'enemies':_0x270157,'col':_0x38e5ca['getInt'](_0x1aea2e(0x127)),'door_x':_0x38e5ca[_0x1aea2e(0x218)]('door_x'),'level':_0x38e5ca['getInt'](_0x1aea2e(0x1c9)),'row':_0x38e5ca[_0x1aea2e(0x218)](_0x1aea2e(0x1f1)),'door_y':_0x38e5ca['getInt']('door_y'),'ec':_0x38e5ca[_0x1aea2e(0x218)]('ec'),'hero':_0x9f6cc1};(0x0,promise_1[_0x1aea2e(0x113)])(this[_0x1aea2e(0x18b)][_0x1aea2e(0x222)],_0x13a22b),this[_0x1aea2e(0x137)](this[_0x1aea2e(0x241)][_0x1aea2e(0x222)]);}[_0x40cb2e(0xf5)](_0x11805a){const _0x3c389c=_0x40cb2e,_0x59e3a9=_0x11805a[_0x3c389c(0x10c)]('houses'),_0x52b534=Array(_0x59e3a9[_0x3c389c(0x13b)]())[_0x3c389c(0x1b9)](null)[_0x3c389c(0xfd)]((_0x292a48,_0x5b75e6)=>{const _0x812154=_0x3c389c,_0x29938b=_0x59e3a9[_0x812154(0x1fd)](_0x5b75e6);return{'house_gen_id':_0x29938b[_0x812154(0x125)](_0x812154(0x15c)),'active':_0x29938b[_0x812154(0x218)](_0x812154(0x14f))};});(0x0,promise_1['resolveUniquePromise'])(this[_0x3c389c(0x18b)][_0x3c389c(0x234)],_0x52b534),this[_0x3c389c(0x137)](this[_0x3c389c(0x241)][_0x3c389c(0x234)],_0x52b534);}[_0x40cb2e(0x191)](_0xd37333){const _0x150873=_0x40cb2e,_0x51e19c={'amount':_0xd37333[_0x150873(0x122)]('amount'),'signature':_0xd37333[_0x150873(0x125)](_0x150873(0x173)),'tokenType':_0xd37333[_0x150873(0x218)](_0x150873(0x204)),'nonce':_0xd37333[_0x150873(0x218)]('nonce'),'details':_0xd37333[_0x150873(0x17d)]('details')};(0x0,promise_1[_0x150873(0x113)])(this[_0x150873(0x18b)][_0x150873(0x243)],_0x51e19c),this[_0x150873(0x137)](this['handlers'][_0x150873(0x243)],_0x51e19c);}[_0x40cb2e(0x1c3)](_0x89c4f9){const _0x4bfa89=_0x40cb2e,_0x512694={'received':_0x89c4f9['getDouble'](_0x4bfa89(0xeb))};(0x0,promise_1[_0x4bfa89(0x113)])(this[_0x4bfa89(0x18b)][_0x4bfa89(0x23d)],_0x512694),this[_0x4bfa89(0x137)](this[_0x4bfa89(0x241)][_0x4bfa89(0x23d)],_0x512694);}['handleActiveHouse'](){const _0xcbe5bb=_0x40cb2e;(0x0,promise_1[_0xcbe5bb(0x113)])(this[_0xcbe5bb(0x18b)][_0xcbe5bb(0x1a4)],undefined),this[_0xcbe5bb(0x137)](this[_0xcbe5bb(0x241)][_0xcbe5bb(0x1a4)]);}['handleActiveBomber'](){const _0x133603=_0x40cb2e;(0x0,promise_1['resolveUniquePromise'])(this['controller'][_0x133603(0x1f5)],undefined),this[_0x133603(0x137)](this[_0x133603(0x241)][_0x133603(0x1f5)]);}[_0x40cb2e(0x1b2)](_0x5e50b1){const _0x2bbcda=_0x40cb2e,_0x161368={'rewards':_0x5e50b1[_0x2bbcda(0x1fe)](_0x2bbcda(0x163))};(0x0,promise_1['resolveUniquePromise'])(this[_0x2bbcda(0x18b)][_0x2bbcda(0x170)],_0x161368),this['callHandler'](this[_0x2bbcda(0x241)][_0x2bbcda(0x170)]);}[_0x40cb2e(0x1e1)](_0x32e80c,_0x1829a4){const _0x3d072f=_0x40cb2e;this[_0x3d072f(0x137)](this[_0x3d072f(0x241)][_0x3d072f(0x16a)],_0x32e80c,_0x1829a4);const _0x509b49=(0x0,err_1[_0x3d072f(0x242)])(_0x3d072f(0x24d),'Failed\x20with\x20code\x20'+_0x1829a4);switch(_0x32e80c){case _0x3d072f(0x1fc):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x238)],_0x509b49);case _0x3d072f(0x1ba):return(0x0,promise_1['rejectUniquePromise'])(this[_0x3d072f(0x18b)][_0x3d072f(0x234)],_0x509b49);case _0x3d072f(0x11b):return(0x0,promise_1['rejectUniquePromise'])(this[_0x3d072f(0x18b)][_0x3d072f(0x1a4)],_0x509b49);case'GET_ACTIVE_BOMBER':return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x19d)],_0x509b49);case'ACTIVE_BOMBER':return(0x0,promise_1['rejectUniquePromise'])(this[_0x3d072f(0x18b)][_0x3d072f(0x1f5)],_0x509b49);case'APPROVE_CLAIM':return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x243)],_0x509b49);case _0x3d072f(0x1c2):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x24c)],_0x509b49);case'START_EXPLODE':(0x0,promise_1[_0x3d072f(0x113)])(this[_0x3d072f(0x18b)][_0x3d072f(0x1e8)],undefined);break;case'START_EXPLODE_V2':(0x0,promise_1[_0x3d072f(0x175)])(this['controller'][_0x3d072f(0x1d3)],undefined),this['callHandler'](this[_0x3d072f(0x241)][_0x3d072f(0x1d3)],undefined);break;case _0x3d072f(0x18c):(0x0,promise_1[_0x3d072f(0x113)])(this[_0x3d072f(0x18b)]['startStoryExplode'],undefined);break;case _0x3d072f(0x22d):(0x0,promise_1[_0x3d072f(0x113)])(this[_0x3d072f(0x18b)]['enemyTakeDamage'],undefined);break;case _0x3d072f(0x1e4):return(0x0,promise_1['rejectUniquePromise'])(this[_0x3d072f(0x18b)][_0x3d072f(0x150)],_0x509b49);case _0x3d072f(0x231):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x245)],_0x509b49);case _0x3d072f(0x184):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x1ed)],_0x509b49);case _0x3d072f(0x192):return(0x0,promise_1['rejectSerializedPromise'])(this[_0x3d072f(0x18b)]['goSleep'],_0x509b49);case _0x3d072f(0x1a5):(0x0,promise_1[_0x3d072f(0x113)])(this[_0x3d072f(0x18b)][_0x3d072f(0x135)],undefined);break;case _0x3d072f(0x1a8):return(0x0,promise_1[_0x3d072f(0x18d)])(this[_0x3d072f(0x18b)][_0x3d072f(0x1d5)],_0x509b49);case'GET_REWARD':return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x1ef)],_0x509b49);case _0x3d072f(0x180):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)]['coinDetail'],_0x509b49);case _0x3d072f(0x217):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)]['getHeroUpgradePower'],_0x509b49);case _0x3d072f(0x149):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x1f7)],_0x509b49);case _0x3d072f(0x21e):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x222)],_0x509b49);case _0x3d072f(0x159):return(0x0,promise_1[_0x3d072f(0x1d9)])(this[_0x3d072f(0x18b)][_0x3d072f(0x170)],_0x509b49);}}[_0x40cb2e(0x1e0)](){const _0x3ed069=_0x40cb2e;this['sfs'][_0x3ed069(0x16f)](sfs2x_api_1['SFSEvent'][_0x3ed069(0x132)],this[_0x3ed069(0x1b7)],this),this[_0x3ed069(0x161)]['addEventListener'](sfs2x_api_1[_0x3ed069(0x12b)][_0x3ed069(0x1f6)],this['handleLogin'],this),this['sfs'][_0x3ed069(0x16f)](sfs2x_api_1[_0x3ed069(0x12b)]['LOGIN_ERROR'],this[_0x3ed069(0x16c)],this),this[_0x3ed069(0x161)]['addEventListener'](sfs2x_api_1[_0x3ed069(0x12b)][_0x3ed069(0x110)],this[_0x3ed069(0x134)],this),this[_0x3ed069(0x161)][_0x3ed069(0x16f)](sfs2x_api_1['SFSEvent'][_0x3ed069(0x157)],this[_0x3ed069(0x250)],this),this['sfs'][_0x3ed069(0x16f)](sfs2x_api_1[_0x3ed069(0x12b)][_0x3ed069(0x140)],this[_0x3ed069(0xfa)],this),(0x0,lib_1[_0x3ed069(0x21d)])(_0x3ed069(0x1a3),lib_1['parseBoolean'],![])&&(this[_0x3ed069(0x161)]['logger']['level']=sfs2x_api_1['LogLevel'][_0x3ed069(0x1a3)],this[_0x3ed069(0x161)][_0x3ed069(0x1e5)][_0x3ed069(0x179)]=!![],this[_0x3ed069(0x161)][_0x3ed069(0x1e5)][_0x3ed069(0x10e)]=!![],this[_0x3ed069(0x161)][_0x3ed069(0x1e5)][_0x3ed069(0x16f)](sfs2x_api_1[_0x3ed069(0x12f)][_0x3ed069(0x197)],logger_1['logger'][_0x3ed069(0x227)],logger_1['logger']),this[_0x3ed069(0x161)][_0x3ed069(0x1e5)][_0x3ed069(0x16f)](sfs2x_api_1[_0x3ed069(0x12f)][_0x3ed069(0x183)],logger_1['logger']['error'],logger_1[_0x3ed069(0x1e5)]),this[_0x3ed069(0x161)][_0x3ed069(0x1e5)]['addEventListener'](sfs2x_api_1[_0x3ed069(0x12f)][_0x3ed069(0x138)],logger_1['logger'][_0x3ed069(0x12e)],logger_1[_0x3ed069(0x1e5)]),this[_0x3ed069(0x161)]['logger'][_0x3ed069(0x16f)](sfs2x_api_1[_0x3ed069(0x12f)][_0x3ed069(0x1a3)],logger_1['logger'][_0x3ed069(0x1ff)],logger_1[_0x3ed069(0x1e5)]));}[_0x40cb2e(0x1b7)](_0x166412){const _0x49c547=_0x40cb2e,_0x42a6b4=_0x166412[_0x49c547(0x195)],_0x27b713=_0x42a6b4[_0x49c547(0x218)]('ec');_0x42a6b4[_0x49c547(0x181)]('ec');if(_0x42a6b4['containsKey']('ec')&&_0x27b713!==0x0)return this[_0x49c547(0x1e1)](_0x166412[_0x49c547(0x168)],_0x27b713);switch(_0x166412[_0x49c547(0x168)]){case'GET_BLOCK_MAP':return this[_0x49c547(0x130)](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x1ba):return this[_0x49c547(0xf5)](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x11b):return this[_0x49c547(0x1ea)]();case _0x49c547(0x1cc):return this[_0x49c547(0x16b)]();case _0x49c547(0x23f):return this[_0x49c547(0x16d)](_0x166412[_0x49c547(0x195)]);case'APPROVE_CLAIM':return this[_0x49c547(0x191)](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x21c):return this['handleConfirmClaimRewardSuccess'](_0x166412[_0x49c547(0x195)]);case'SYNC_BOMBERMAN':return this[_0x49c547(0x115)](_0x166412[_0x49c547(0x195)]);case'START_EXPLODE':return this[_0x49c547(0x13e)](_0x166412[_0x49c547(0x195)]);case'START_EXPLODE_V2':return this['handleStartExplodeV2'](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x18c):return this[_0x49c547(0xed)](_0x166412['params']);case _0x49c547(0x22d):return this['handleEnemyTakeDamage'](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x231):return this['handleStartPVE']();case _0x49c547(0x184):return this[_0x49c547(0x200)]();case _0x49c547(0x192):return this[_0x49c547(0x1e2)](_0x166412['params']);case _0x49c547(0x1a8):return this[_0x49c547(0x194)](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x1a5):return this[_0x49c547(0x1ee)](_0x166412[_0x49c547(0x195)]);case'USER_LOGIN':return this['handleUserLogin']();case _0x49c547(0x1df):return this[_0x49c547(0x1e9)](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x180):return this[_0x49c547(0x178)](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x217):return this[_0x49c547(0x20c)]();case _0x49c547(0x149):return this[_0x49c547(0x224)](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x21e):return this['handleGetStoryMap'](_0x166412[_0x49c547(0x195)]);case _0x49c547(0x159):return this[_0x49c547(0x1b2)](_0x166412[_0x49c547(0x195)]);}console[_0x49c547(0x174)]('Unmapped\x20command:\x20',_0x166412);}}exports[_0x40cb2e(0x160)]=Client;